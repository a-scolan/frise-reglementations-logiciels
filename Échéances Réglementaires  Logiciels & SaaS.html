<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Frise Chronologique R√©glementaire - Prestataires Logiciels</title>

<!-- Meta tags SEO -->
<meta name="description" content="Frise chronologique interactive des √©ch√©ances r√©glementaires pour les √©diteurs de logiciels, SaaS, ESN et fabricants IoT. Plus de 30 r√©glementations europ√©ennes et fran√ßaises (RGPD, AI Act, CRA, NIS 2, DORA, DSA, DMA) entre 2016 et 2030+.">
<meta name="keywords" content="r√©glementation logiciel, compliance, RGPD, AI Act, Cyber Resilience Act, NIS 2, DORA, DSA, DMA, Data Act, √©diteur logiciel, SaaS, ESN, IoT, √©ch√©ances r√©glementaires">
<meta name="author" content="a-scolan">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://a-scolan.github.io/frise-reglementations-logiciels/">
<meta property="og:title" content="Frise Chronologique R√©glementaire - Logiciels & SaaS">
<meta property="og:description" content="Visualisez et anticipez les √©ch√©ances r√©glementaires qui s'appliquent aux √©diteurs de logiciels, SaaS et ESN. Plus de 30 r√©glementations europ√©ennes (RGPD, AI Act, CRA, NIS 2, DORA, DSA, DMA).">
<meta property="og:locale" content="fr_FR">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="https://a-scolan.github.io/frise-reglementations-logiciels/">
<meta name="twitter:title" content="Frise Chronologique R√©glementaire - Logiciels & SaaS">
<meta name="twitter:description" content="Visualisez et anticipez les √©ch√©ances r√©glementaires qui s'appliquent aux √©diteurs de logiciels, SaaS et ESN. Plus de 30 r√©glementations europ√©ennes.">

<!-- Canonical URL -->
<link rel="canonical" href="https://a-scolan.github.io/frise-reglementations-logiciels/√âch√©ances R√©glementaires  Logiciels & SaaS.html">
<style>
  /* --- RESET ET POLICES --- */
  * { box-sizing: border-box; }
  body {
    background-color: #e8eceb;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #333;
    margin: 0;
    padding: 20px;
  }

  h1 { text-align: center; color: #2c3e50; margin-bottom: 5px; }
  p.subtitle { text-align: center; font-style: italic; margin-bottom: 20px; color: #7f8c8d; }

  /* --- COULEURS CIBLES (Categories) --- */
  /* Universel : Tout logiciel, ESN, Dev */
 .theme-universal { --main-color: #34495e; --bg-light: #eaeded; } 
  /* B2B & Cloud : SaaS, ERP, H√©bergement */
 .theme-b2b { --main-color: #2980b9; --bg-light: #d6eaf8; }
  /* B2C & Plateformes : Apps, Marketplaces, E-commerce */
 .theme-b2c { --main-color: #8e44ad; --bg-light: #ebdef0; }
  /* Industrie & IoT : Logiciels embarqu√©s, Hardware */
 .theme-iot { --main-color: #27ae60; --bg-light: #d5f5e3; }
  /* Secteurs R√©gul√©s : Banque, Sant√©, Public */
 .theme-regulated { --main-color: #c0392b; --bg-light: #fadbd8; }
  /* ESN : Entreprises Services Num√©rique */
 .theme-esn { --main-color: #e67e22; --bg-light: #fdebd0; }

  /* --- L√âGENDE / PANNEAU DE FILTRAGE FLOTTANT --- */
 .legend-container {
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1001;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 10px;
    padding: 12px 20px;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    border-bottom: 2px solid #ecf0f1;
    transition: all 0.3s ease;
    overflow: visible;
  }

 .legend-title {
    font-weight: bold;
    margin: 0 15px 0 0;
    color: #2c3e50;
    text-transform: uppercase;
    font-size: 0.85rem;
    letter-spacing: 1px;
    white-space: nowrap;
    cursor: default;
  }
  
 .legend-toggle-btn {
    display: none;
  }

 .legend-items-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: center;
    justify-content: center;
  }

 .legend-item {
    display: flex;
    align-items: center;
    font-size: 0.8rem;
    font-weight: 600;
    padding: 8px 14px;
    border-radius: 20px;
    border: 2px solid;
    transition: all 0.2s;
    cursor: pointer;
    user-select: none;
  }
  
 .legend-item:hover { 
    transform: translateY(-2px); 
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
  }
  
 .legend-item.active {
    opacity: 1;
  }
  
 .legend-item.inactive {
    opacity: 0.35;
    background: #f8f9fa;
    filter: grayscale(50%);
  }

 .dot {
    height: 12px;
    width: 12px;
    border-radius: 50%;
    display: inline-block;
    margin-right: 8px;
    flex-shrink: 0; /* Emp√™che l'√©crasement du cercle */
  }

  /* Application des couleurs l√©gende */
 .leg-universal { background-color: #eaeded; color: #34495e; border-color: #34495e; }
 .leg-universal.dot { background-color: #34495e; }
 .leg-universal.inactive { border-color: #bdc3c7; color: #7f8c8d; }

 .leg-b2b { background-color: #d6eaf8; color: #2980b9; border-color: #2980b9; }
 .leg-b2b.dot { background-color: #2980b9; }
 .leg-b2b.inactive { border-color: #bdc3c7; color: #7f8c8d; }

 .leg-b2c { background-color: #ebdef0; color: #8e44ad; border-color: #8e44ad; }
 .leg-b2c.dot { background-color: #8e44ad; }
 .leg-b2c.inactive { border-color: #bdc3c7; color: #7f8c8d; }

 .leg-iot { background-color: #d5f5e3; color: #27ae60; border-color: #27ae60; }
 .leg-iot.dot { background-color: #27ae60; }
 .leg-iot.inactive { border-color: #bdc3c7; color: #7f8c8d; }

 .leg-regulated { background-color: #fadbd8; color: #c0392b; border-color: #c0392b; }
 .leg-regulated.dot { background-color: #c0392b; }
 .leg-regulated.inactive { border-color: #bdc3c7; color: #7f8c8d; }

 .leg-esn { background-color: #fdebd0; color: #e67e22; border-color: #e67e22; }
 .leg-esn.dot { background-color: #e67e22; }
 .leg-esn.inactive { border-color: #bdc3c7; color: #7f8c8d; }
 
 /* Compteur sur les items de l√©gende */
 .legend-count {
    margin-left: 6px;
    font-size: 0.75rem;
    padding: 2px 6px;
    border-radius: 10px;
    background: rgba(0,0,0,0.15);
    font-weight: bold;
  }

  /* --- TIMELINE --- */
 .timeline {
    position: relative;
    max-width: 1200px;
    margin: 20px auto 0;
  }

  /* Ligne verticale */
 .timeline::after {
    content: '';
    position: absolute;
    width: 4px;
    background-color: #bdc3c7;
    top: 0;
    bottom: 0;
    left: 50%;
    margin-left: -2px;
    border-radius: 2px;
  }

  /* Conteneur */
    .container {
      padding: 10px 40px;
      position: relative;
      background-color: inherit;
      width: 50%;
    }

    .container.left {
      margin-top: -120px;
    }

    .container.right {
      margin-top: -120px;
    }

    .container:first-child,
    .container:not(.hidden):first-of-type {
      margin-top: 0 !important;
    }  /* Cercles sur la ligne */
 .container::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    right: -8px;
    background-color: white;
    border: 3px solid #bdc3c7;
    top: 24px; /* Ajust√© pour aligner avec le header */
    border-radius: 50%;
    z-index: 1;
  }

  /* Gauche / Droite */
 .left { left: 0; }
 .right { left: 50%; }
 .left::before {
    content: " ";
    height: 0;
    position: absolute;
    top: 26px;
    width: 0;
    z-index: 1;
    right: 30px;
    border: medium solid white;
    border-width: 10px 0 10px 10px;
    border-color: transparent transparent transparent white;
  }
 .right::before {
    content: " ";
    height: 0;
    position: absolute;
    top: 26px;
    width: 0;
    z-index: 1;
    left: 30px;
    border: medium solid white;
    border-width: 10px 10px 10px 0;
    border-color: transparent white transparent transparent;
  }
 .right::after { left: -8px; }

  /* Carte de contenu */
 .content {
    padding: 20px 25px 10px 25px;
    background-color: white;
    position: relative;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    border-left: 6px solid #ccc; /* Couleur par d√©faut */
  }

  /* --- STYLES INTERNES CARTE --- */
 .header-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    gap: 8px;
  }

 .header-left {
    display: flex;
    align-items: center;
    gap: 0;
  }

 .header-right {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-left: auto;
  }

 .date-badge {
    background-color: #555;
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

 .sanctions-badge {
    font-size: 0.7rem;
    padding: 3px 7px;
    border-radius: 4px;
    text-transform: uppercase;
    font-weight: 700;
    border: 1.5px solid;
    cursor: help;
    transition: all 0.2s ease;
    white-space: nowrap;
    background-color: #fff3e0;
    color: #e65100;
    border-color: #ff9800;
  }
 .sanctions-badge:hover {
    background-color: #ffe0b2;
    border-color: #f57c00;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(255, 152, 0, 0.3);
  }

 .origin-badge {
    font-size: 0.75rem;
    padding: 2px 6px;
    border-radius: 4px;
    text-transform: uppercase;
    font-weight: 800;
    border: 1px solid #ddd;
  }
 .origin-eu { color: #003399; background-color: #e6f0ff; border-color: #003399; } /* Bleu Europe */
 .origin-fr { color: #002395; background-color: #f0f0f0; border-color: #ed2939; } /* Bleu/Rouge France */

  h2 { margin: 0 0 5px 0; font-size: 1.1rem; color: #333; }
  
 .target-tag {
    display: inline-block;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    margin-bottom: 8px;
    padding: 2px 0;
    color: var(--main-color, #555);
  }

  p { margin: 5px 0 0; line-height: 1.4; font-size: 0.9rem; color: #555; }

  /* Liens r√©glementaires */
 .reg-link {
    display: inline-block;
    margin-top: 8px;
    font-size: 0.8rem;
    color: #3498db;
    text-decoration: none;
    font-weight: 600;
    transition: color 0.2s;
  }
 .reg-link:hover {
    color: #2980b9;
    text-decoration: underline;
  }

  /* Marqueur date actuelle */
 .current-date-marker {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 120px;
    height: 30px;
    background-color: #e74c3c;
    color: white;
    text-align: center;
    line-height: 30px;
    font-weight: bold;
    font-size: 0.8rem;
    border-radius: 4px;
    z-index: 10;
    box-shadow: 0 2px 10px rgba(231, 76, 60, 0.4);
  }
 .current-date-marker::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-top: 8px solid #e74c3c;
  }
 .current-date-marker.bottom-marker {
    top: auto !important;
    bottom: 20px;
  }
 .current-date-marker.bottom-marker::after {
    bottom: auto;
    top: -8px;
    border-top: none;
    border-bottom: 8px solid #e74c3c;
  }

  /* Bouton retour √† aujourd'hui */
 .back-to-today {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background: #e74c3c;
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 50px;
    cursor: pointer;
    font-weight: bold;
    font-size: 0.85rem;
    z-index: 1000;
    box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
  }
 .back-to-today:hover {
    background: #c0392b;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
  }
 .back-to-today:active {
    transform: translateY(0);
  }

  /* Bouton Imprimer */
 .print-button {
    position: fixed;
    bottom: 30px;
    right: 200px;
    background: #2980b9;
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 50px;
    cursor: pointer;
    font-weight: bold;
    font-size: 0.85rem;
    z-index: 1000;
    box-shadow: 0 4px 15px rgba(41, 128, 185, 0.3);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
  }
 .print-button:hover {
    background: #1f6391;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(41, 128, 185, 0.4);
  }
 .print-button:active {
    transform: translateY(0);
  }

  /* --- SOMMAIRE FLOTTANT --- */
 .toc-container {
    position: sticky;
    top: 160px;
    right: 20px;
    width: 280px;
    max-height: calc(100vh - 240px);
    background: white;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    z-index: 1002;
    transition: all 0.3s ease;
    overflow: hidden;
    float: right;
    margin-top: 20px;
    margin-right: 20px;
    margin-left: 20px;
  }
 .toc-container.collapsed {
    width: auto;
    max-height: 50px;
    box-shadow: -4px 4px 12px rgba(0,0,0,0.2);
  }
 .toc-container.collapsed .toc-content {
    display: none;
  }
 .toc-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 18px;
    background: #2c3e50;
    cursor: pointer;
    transition: all 0.2s;
    user-select: none;
  }
 .toc-header:hover {
    background: #34495e;
  }
 .toc-container.collapsed .toc-header {
    border-radius: 12px 0 0 12px;
  }
 .toc-title {
    font-weight: bold;
    color: white;
    font-size: 0.9rem;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 8px;
  }
 .toc-toggle-icon {
    display: none;
  }
 .toc-content {
    padding: 15px 10px;
    max-height: calc(100vh - 260px);
    overflow-y: auto;
    background: white;
  }
 .toc-item {
    display: block;
    padding: 8px 15px;
    margin: 3px 0;
    font-size: 0.8rem;
    color: #34495e;
    text-decoration: none;
    border-radius: 6px;
    border-left: 3px solid transparent;
    transition: all 0.2s;
    cursor: pointer;
  }
 .toc-item:hover {
    background: #ecf0f1;
    border-left-color: #3498db;
    transform: translateX(3px);
  }
 .toc-item-date {
    font-weight: bold;
    color: #7f8c8d;
    font-size: 0.7rem;
    display: block;
    margin-bottom: 2px;
  }
 .toc-item-title {
    display: block;
    font-weight: 600;
  }
 .toc-item.active {
    background: #d6eaf8;
    border-left-color: #2980b9;
  }

  /* Animation de masquage des conteneurs filtr√©s */
 .container.hidden {
    display: none;
  }

  /* --- BOUTON MES OBLIGATIONS (CENTR√â) --- */
    .obligations-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
      display: block;
      margin: 25px auto 15px auto;
      z-index: 10;
    }

    .obligations-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    .obligations-btn:active {
      transform: translateY(0);
    }

  /* --- POPUP MODALE OBLIGATIONS --- */
 .obligations-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
    z-index: 2000;
    animation: fadeIn 0.3s ease;
  }
 .obligations-modal.show {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
  }

  /* Modale explicative au-dessus des autres */
 #modal-complexity-explanation {
    z-index: 2100;
  }
 #modal-complexity-explanation.show {
    background: rgba(0, 0, 0, 0.75);
  }
 @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
 .obligations-modal-content {
    background: white;
    border-radius: 16px;
    max-width: 700px;
    width: 100%;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    animation: slideUp 0.3s ease;
    position: relative;
  }
 @keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
 .obligations-modal-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px 25px;
    border-radius: 16px 16px 0 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
 .obligations-modal-header h3 {
    margin: 0;
    font-size: 1.3rem;
    font-weight: 700;
  }
 .obligations-modal-close {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    font-size: 1.8rem;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    font-weight: 300;
    line-height: 1;
    padding: 0;
    font-family: Arial, sans-serif;
  }
 .obligations-modal-close:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg);
  }
 .obligations-modal-body {
    padding: 25px;
  }
 .obligations-modal-body h4 {
    margin: 0 0 15px 0;
    color: #2c3e50;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 8px;
  }
 .obligations-modal-body ul {
    margin-bottom: 12px;
    padding-left: 20px;
    line-height: 1.8;
  }
 .obligations-modal-body li {
    color: #555;
    font-size: 0.9rem;
  }
 .obligations-modal-body li strong {
    color: #2c3e50;
    font-weight: 600;
  }
 .obligations-highlight {
    background: #fff3cd;
    border-left: 4px solid #ffc107;
    padding: 12px 15px;
    margin: 15px 0;
    border-radius: 4px;
    font-size: 0.85rem;
    color: #856404;
  }
 .obligations-highlight strong {
    color: #533f03;
  }

  /* --- TABLEAU COMPLEXIT√â --- */
 .complexity-section {
    background: #f8f9fa;
    border: 2px solid #e9ecef;
    border-radius: 8px;
    padding: 15px;
    margin: 20px 0;
  }
 .complexity-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
  }
 .complexity-title {
    font-size: 0.95rem;
    font-weight: 700;
    color: #495057;
    display: flex;
    align-items: center;
    gap: 8px;
  }
 .complexity-help-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    font-size: 0.85rem;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
    position: relative;
  }
 .complexity-help-btn:hover {
    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
    transform: scale(1.15) rotate(15deg);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.5);
  }
 .complexity-help-btn:active {
    transform: scale(1.05);
  }
 .complexity-help-btn::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 2px solid rgba(102, 126, 234, 0.4);
    animation: pulse-ring 2s ease-out infinite;
  }
 @keyframes pulse-ring {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    100% {
      transform: scale(1.5);
      opacity: 0;
    }
  }
 .complexity-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
  }
 .complexity-table th {
    background: #dee2e6;
    color: #495057;
    font-weight: 600;
    padding: 8px;
    text-align: left;
    border-bottom: 2px solid #adb5bd;
  }
 .complexity-table td {
    padding: 8px;
    border-bottom: 1px solid #dee2e6;
    color: #495057;
  }
 .complexity-table tr:last-child td {
    border-bottom: none;
  }
 .complexity-score {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-weight: 600;
  }
 .complexity-score-1 { color: #28a745; }
 .complexity-score-2 { color: #ffc107; }
 .complexity-score-3 { color: #fd7e14; }
 .complexity-score-4 { color: #dc3545; }
 .complexity-score-5 { color: #6f42c1; }
 .complexity-stars {
    color: inherit;
    font-size: 0.9rem;
  }

  /* --- APPLICATION DES TH√àMES AUX CARTES --- */
 .card-universal { border-left-color: #34495e; }
 .card-universal.date-badge { background-color: #34495e; }
 .card-universal.target-tag { color: #34495e; }

 .card-b2b { border-left-color: #2980b9; }
 .card-b2b.date-badge { background-color: #2980b9; }
 .card-b2b.target-tag { color: #2980b9; }

 .card-b2c { border-left-color: #8e44ad; }
 .card-b2c.date-badge { background-color: #8e44ad; }
 .card-b2c.target-tag { color: #8e44ad; }

 .card-iot { border-left-color: #27ae60; }
 .card-iot.date-badge { background-color: #27ae60; }
 .card-iot.target-tag { color: #27ae60; }

 .card-regulated { border-left-color: #c0392b; }
 .card-regulated.date-badge { background-color: #c0392b; }
 .card-regulated.target-tag { color: #c0392b; }

  /* ESN-specific info tag */
 .esn-info {
    display: block;
    margin-top: 8px;
    padding: 4px 10px;
    background: #fdebd0;
    color: #e67e22;
    border: 1px solid #e67e22;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 700;
    transition: opacity 0.3s ease;
    width: fit-content;
  }
 .esn-info.hidden {
    display: none;
  }

  /* Footer */
 .footer {
    text-align: center;
    padding: 40px 20px;
    margin-top: 60px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
  }
 .footer p {
    margin: 5px 0;
    color: #7f8c8d;
    font-size: 0.9rem;
  }
 .footer strong {
    color: #2c3e50;
  }

  /* --- RESPONSIVE --- */
  @media screen and (max-width: 768px) {
   .timeline::after { left: 31px; }
   .container { 
     width: 100%; 
     padding-left: 70px; 
     padding-right: 25px;
     padding-top: 15px;
     padding-bottom: 15px;
     margin-top: 0 !important;
   }
   .container::before { left: 60px; border: medium solid white; border-width: 10px 10px 10px 0; border-color: transparent white transparent transparent; }
   .left::after,.right::after { left: 21px; }
   .right { left: 0%; }
   .legend-container { 
     flex-direction: column; 
     align-items: stretch;
     padding: 0;
     gap: 0;
     max-height: 50px;
     overflow: hidden;
     width: 100%;
     left: 0;
     right: 0;
     margin-bottom: 10px;
     border-radius: 12px;
     z-index: 997;
   }
   .legend-container.expanded {
     max-height: 500px;
     overflow-y: auto;
     margin-bottom: 10px;
   }
   .legend-toggle-btn {
     display: block;
     width: 100%;
     padding: 12px 18px;
     background: #2c3e50;
     color: white;
     border: none;
     font-weight: bold;
     font-size: 0.9rem;
     cursor: pointer;
     text-align: left;
     transition: all 0.2s;
     user-select: none;
     border-radius: 12px;
   }
   .legend-container.expanded .legend-toggle-btn {
     border-radius: 12px 12px 0 0;
   }
   .legend-toggle-btn:hover,
   .legend-toggle-btn:active {
     background: #34495e;
   }
   .legend-title {
     display: none;
   }
   .legend-items-wrapper {
     padding: 8px 10px;
     display: none;
     flex-direction: column;
     gap: 6px;
     width: 100%;
   }
   .legend-container.expanded .legend-items-wrapper {
     display: flex;
   }
   .toc-container {
     display: block !important;
   }
   .legend-item {
     font-size: 0.7rem;
     padding: 6px 8px;
     width: 100%;
     justify-content: space-between;
     flex-wrap: nowrap;
   }
   .legend-item .dot {
     margin-right: 6px;
     flex-shrink: 0;
   }
   .legend-count {
     margin-left: auto;
     flex-shrink: 0;
   }
   .timeline { 
     margin-top: 10px;
   }
   .current-date-marker { 
     width: 85px; 
     font-size: 0.65rem;
     left: -11px;
     transform: none;
   }
   .current-date-marker::after {
     left: 35px;
     transform: none;
   }
   .current-date-marker.bottom-marker {
     left: -11px;
     transform: none;
     width: 85px;
   }
   .current-date-marker.bottom-marker::after {
     left: 34px;
     transform: none;
   }
   .back-to-today {
     position: fixed;
     bottom: 80px;
     right: 15px;
     left: 15px;
     padding: 10px 14px;
     font-size: 0.8rem;
     justify-content: center;
     transition: bottom 0.3s ease;
     z-index: 999;
   }
   .print-button {
     position: fixed;
     bottom: 130px;
     right: 15px;
     left: 15px;
     padding: 10px 14px;
     font-size: 0.8rem;
     justify-content: center;
     z-index: 999;
   }
   .toc-container {
     position: fixed;
     width: calc(100% - 30px);
     right: 15px;
     left: 15px;
     top: auto;
     bottom: 20px;
     max-height: 50px;
     border-radius: 12px;
     box-shadow: 0 -4px 20px rgba(0,0,0,0.2);
     transition: max-height 0.3s ease, bottom 0.3s ease;
     z-index: 998;
     overflow: hidden;
     float: none;
     margin: 0;
   }
   .toc-container:not(.collapsed) {
     max-height: 50vh;
   }
   .toc-container.collapsed {
     max-height: 50px;
   }
   .toc-container.collapsed .toc-header {
     border-radius: 12px;
   }
   .toc-content {
     max-height: calc(50vh - 50px);
     overflow-y: auto;
     -webkit-overflow-scrolling: touch;
   }
   .toc-toggle-icon {
     transform: rotate(180deg);
   }
   .toc-container.collapsed .toc-toggle-icon {
     transform: rotate(0deg);
   }
   body.toc-open .back-to-today {
     bottom: calc(50vh + 30px);
   }
   body.toc-open .print-button {
     bottom: calc(50vh + 30px);
   }
   body.toc-open .toc-container {
     bottom: 20px;
   }
   
   /* Panneau de filtrage en mobile */
   .filter-panel {
     top: 10px;
     right: 10px;
     left: 10px;
     max-width: none;
     padding: 15px;
   }
   .filter-toggle {
     top: 10px;
     right: 10px;
     padding: 10px 14px;
     font-size: 0.85rem;
   }
   .filter-btn {
     font-size: 0.8rem;
     padding: 8px 12px;
   }
   .filter-panel-title {
     font-size: 0.9rem;
   }
  }

  /* --- STYLES D'IMPRESSION --- */
  @media print {
    /* Suppression des en-t√™tes et pieds de page automatiques du navigateur */
    @page {
      margin-left: 0.5in;
      margin-right: 0.5in;
      margin-top: 0;
      margin-bottom: 0;
      size: A4;
    }
    
    body {
      background: white;
      padding: 0.5in 0;
      font-size: 11pt;
    }
    
    /* Masquer les √©l√©ments interactifs */
    .legend-container,
    .back-to-today,
    .print-button,
    .toc-container,
    .complexity-help-btn,
    .obligations-modal-close,
    .current-date-marker,
    .content button,
    button[onclick*="openObligationsModal"],
    button[onclick*="openComplexityExplanation"] {
      display: none !important;
    }
    
    /* Masquer le disclaimer interactif (on utilise celui pour impression) */
    body > div[style*="background: #fff3cd"]:not(.print-disclaimer) {
      display: none !important;
    }
    
    /* Timeline simplifi√©e */
    .timeline {
      margin-top: 20px;
      position: relative;
      display: block;
    }
    
    .timeline::after {
      display: none;
    }
    
    /* Cartes en pleine largeur */
    .container {
      page-break-inside: avoid;
      width: 100% !important;
      max-width: 100% !important;
      padding: 15px;
      margin: 15px 0 !important;
      box-shadow: none;
      border: 1px solid #333;
      position: relative !important;
      left: 0 !important;
      right: auto !important;
      transform: none !important;
    }
    
    .container::before {
      display: none;
    }
    
    .container.left,
    .container.right {
      left: 0 !important;
      right: auto !important;
    }
    
    .container::after {
      display: none;
    }
    
    /* Masquer les cartes filtr√©es */
    .container.hide-for-print,
    .container[style*="display: none"] {
      display: none !important;
    }
    
    /* Masquer le footer original (il sera ajout√© avant le d√©tail) */
    body > .footer {
      display: none !important;
    }
    
    /* Footer dans section d√©tail - densifi√© */
    .print-annexes .footer,
    .footer {
      page-break-before: avoid;
      margin-top: 20px;
      border-top: 2px solid #333;
      padding-top: 10px;
    }
    
    .footer p {
      margin: 3px 0 !important;
      padding: 0 !important;
      font-size: 8pt !important;
      line-height: 1.3 !important;
    }
    
    .footer div[style*="background: #fff3cd"] {
      padding: 8px 12px !important;
      margin: 6px 0 !important;
    }
    
    .footer div[style*="background: #fff3cd"] p {
      font-size: 7.5pt !important;
      line-height: 1.2 !important;
    }
    
    /* Annexes des modales */
    .print-annexes {
      page-break-before: always;
    }
    
    .print-annex {
      page-break-inside: avoid;
      margin-bottom: 30px;
      border: 1px solid #333;
      padding: 15px;
    }
    
    .print-annex-title {
      font-size: 14pt;
      font-weight: bold;
      margin-bottom: 10px;
      color: #333;
      border-bottom: 2px solid #333;
      padding-bottom: 5px;
    }
    
    .print-annex-content {
      font-size: 10pt;
      line-height: 1.4;
    }
    
    .complexity-table {
      page-break-inside: avoid;
    }
    
    /* Mention des filtres actifs */
    .print-filters-info {
      display: block !important;
      background: #f8f9fa;
      border: 2px solid #2980b9;
      padding: 12px 15px;
      margin: 10px 0;
      border-radius: 6px;
      page-break-after: avoid;
    }
    
    .print-filters-title {
      font-size: 11pt;
      font-weight: bold;
      margin-bottom: 6px;
    }
    
    .print-filters-list {
      font-size: 9pt;
      line-height: 1.4;
    }
    
    /* Disclaimer non contractuel en impression */
    .print-disclaimer {
      display: block !important;
      background: #fff3cd;
      border: 2px solid #f39c12;
      border-left: 5px solid #f39c12;
      padding: 12px 15px;
      margin: 10px 0;
      border-radius: 6px;
      page-break-after: avoid;
    }
    
    .print-disclaimer p {
      margin: 0 !important;
      padding: 0 !important;
      line-height: 1.3 !important;
    }
    
    /* Guide complexit√© - page d√©di√©e densifi√©e */
    .print-complexity-guide {
      display: block !important;
      page-break-before: always;
      page-break-after: always;
      margin: 0;
      padding: 20px 15px;
    }
    
    .print-complexity-guide h2 {
      font-size: 14pt !important;
      margin: 0 0 12px 0 !important;
      padding-bottom: 6px !important;
    }
    
    .print-complexity-guide h4 {
      font-size: 11pt !important;
      margin: 8px 0 4px 0 !important;
    }
    
    .print-complexity-guide ul {
      margin: 4px 0 8px 0 !important;
      padding-left: 20px !important;
    }
    
    .print-complexity-guide li {
      margin-bottom: 2px !important;
      line-height: 1.3 !important;
    }
    
    .print-complexity-guide p {
      margin: 4px 0 !important;
      line-height: 1.3 !important;
    }
    
    .print-complexity-guide .obligations-highlight {
      padding: 8px 12px !important;
      margin: 8px 0 !important;
    }
    
    /* Masquer le guide normalement cach√© en mode interactif */
    .hidden-guide {
      display: block !important;
    }
    
    /* Timeline commence apr√®s le guide */
    .timeline {
      page-break-before: auto;
    }
    
    /* Annexes sans pages blanches excessives */
    .print-annexes {
      page-break-before: always;
      margin-top: 0;
      padding-top: 20px;
    }
    
    .print-annexes h1 {
      margin-top: 0;
      padding-top: 0;
    }
  }
</style>
</head>
<body>

<h1>√âch√©ances R√©glementaires : Logiciels & SaaS</h1>
<p class="subtitle">Vue synth√©tique par type d'acteur concern√© (2016 - 2030+) | <strong>Version Q4 2025</strong></p>

<div style="max-width: 800px; margin: 0 auto 30px; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);">
  <p style="margin: 0 0 15px 0; color: white; font-size: 1.05rem; line-height: 1.6; text-align: center;">
    <strong>üéØ Objectif :</strong> Faciliter et anticiper l'impl√©mentation des r√©glementations europ√©ennes et fran√ßaises applicables aux √©diteurs de logiciels, SaaS et prestataires IT. <br/>Cette frise permet d'identifier les obligations selon votre profil d'activit√© et de prioriser vos chantiers de conformit√© gr√¢ce √† une √©valuation de leur complexit√©.
  </p>
  <div style="text-align: center; margin-top: 15px;">
    <button onclick="openComplexityExplanation()" style="background: rgba(255,255,255,0.2); border: 2px solid white; color: white; padding: 10px 20px; border-radius: 25px; cursor: pointer; font-weight: bold; font-size: 0.9rem; transition: all 0.3s;">
      üìä Guide de Lecture - √âvaluation de Complexit√©
    </button>
  </div>
</div>

<!-- Filtres actifs - visible uniquement en impression (AVANT le guide) -->
<div class="print-filters-info" style="display: none; max-width: 900px; margin: 0 auto 15px;">
  <div class="print-filters-title" style="font-size: 13pt; font-weight: bold; color: #2c3e50; margin-bottom: 8px;">
    üìä Filtres Actifs - Cat√©gories Concern√©es
  </div>
  <div id="print-filters-content" class="print-filters-list" style="font-size: 11pt; color: #495057; line-height: 1.6;">
    <!-- Sera rempli dynamiquement -->
  </div>
</div>

<!-- Disclaimer pour impression - visible uniquement en impression (AVANT le guide) -->
<div class="print-disclaimer" style="display: none; max-width: 900px; margin: 0 auto 20px; padding: 15px 20px; border-radius: 8px;">
  <p style="margin: 0 0 8px 0; color: #856404; font-size: 0.9rem; line-height: 1.5; font-weight: bold;">
    ‚ö†Ô∏è DOCUMENT NON CONTRACTUEL
  </p>
  <p style="margin: 0; color: #856404; font-size: 0.85rem; line-height: 1.4;">
    Ce document est fourni <strong>√† titre purement indicatif et p√©dagogique</strong>. Il ne saurait se substituer aux textes r√©glementaires en vigueur ni engager la responsabilit√© de l'acheteur public ou de toute autre entit√© quant √† l'exhaustivit√© des obligations l√©gales. Les scores de complexit√© constituent une <strong>estimation g√©n√©rique</strong> destin√©e √† faciliter la compr√©hension et le dimensionnement des chantiers de conformit√©. Ils ne remplacent pas une analyse juridique et technique au cas par cas.
  </p>
</div>

<!-- Guide de lecture cach√© (visible uniquement en impression APR√àS filtres et disclaimer) -->
<div class="hidden-guide print-complexity-guide" style="display: none; max-width: 900px; margin: 20px auto; border: 3px solid #667eea; padding: 15px 20px; border-radius: 8px; background: #f8f9fa;">
  <h2 style="text-align: center; margin: 0 0 15px 0; color: #667eea; border-bottom: 2px solid #667eea; padding-bottom: 8px; font-size: 16pt;">
    üìä Guide de Lecture - √âvaluation de Complexit√©
  </h2>
  <div id="complexity-guide-content" style="font-size: 10pt; line-height: 1.4;">
    <!-- Sera rempli dynamiquement depuis la modale -->
  </div>
</div>

<!-- Avertissement L√©gal - Non Contractuel (visible en mode interactif) -->
<div style="max-width: 900px; margin: 0 auto 25px; padding: 18px 24px; background: #fff3cd; border-left: 5px solid #f39c12; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.08);">
  <p style="margin: 0 0 10px 0; color: #856404; font-size: 0.95rem; line-height: 1.7;">
    <strong>‚ö†Ô∏è DOCUMENT NON CONTRACTUEL</strong>
  </p>
  <p style="margin: 0; color: #856404; font-size: 0.88rem; line-height: 1.6;">
    Ce document est fourni <strong>√† titre purement indicatif et p√©dagogique</strong>. Il ne saurait se substituer aux textes r√©glementaires en vigueur ni engager la responsabilit√© de l'acheteur public ou de toute autre entit√© quant √† l'exhaustivit√© des obligations l√©gales. Les scores de complexit√© constituent une <strong>estimation g√©n√©rique</strong> destin√©e √† faciliter la compr√©hension et le dimensionnement des chantiers de conformit√©. Ils ne remplacent pas une analyse juridique et technique au cas par cas.
  </p>
</div>

<!-- Panneau de filtrage flottant (ancienne l√©gende transform√©e) -->
<div class="legend-container" id="legendContainer">
  <button class="legend-toggle-btn" id="legendToggle">üîç Filtrer par cat√©gorie</button>
  <div class="legend-title">Qui est concern√© ?</div>
  <div class="legend-items-wrapper">
    <div class="legend-item leg-universal active" data-category="universal">
      <span class="dot"></span>Universel (Tout Logiciel / Tout Site)
      <span class="legend-count" id="count-universal">0</span>
    </div>
    <div class="legend-item leg-b2b active" data-category="b2b">
      <span class="dot"></span>SaaS B2B, Cloud & Gestion
      <span class="legend-count" id="count-b2b">0</span>
    </div>
    <div class="legend-item leg-b2c active" data-category="b2c">
      <span class="dot"></span>Plateformes, Apps B2C & Marketplaces
      <span class="legend-count" id="count-b2c">0</span>
    </div>
    <div class="legend-item leg-iot active" data-category="iot">
      <span class="dot"></span>IoT, Industrie & Mat√©riel
      <span class="legend-count" id="count-iot">0</span>
    </div>
    <div class="legend-item leg-regulated active" data-category="regulated">
      <span class="dot"></span>Secteurs R√©gul√©s (Finance, Sant√©, Public)
      <span class="legend-count" id="count-regulated">0</span>
    </div>
    <div class="legend-item leg-esn inactive" data-category="esn">
      <span class="dot"></span>ESN & Prestataires IT
      <span class="legend-count" id="count-esn">0</span>
    </div>
  </div>
</div>

<!-- Bouton retour √† aujourd'hui -->
<button class="back-to-today" id="backToToday">
  üìÖ Aujourd'hui
</button>

<!-- Bouton Imprimer -->
<button class="print-button" id="printButton">
  üñ®Ô∏è Imprimer
</button>

<!-- Sommaire flottant -->
<div class="toc-container collapsed" id="tocContainer">
  <div class="toc-header" id="tocHeader">
    <h3 class="toc-title">
      üìã Sommaire
      <span class="toc-toggle-icon">‚óÄ</span>
    </h3>
  </div>
  <div class="toc-content" id="tocContent">
    <!-- G√©n√©r√© dynamiquement par JavaScript -->
  </div>
</div>

<div class="timeline">

  <div class="container left">
    <div class="content card-universal card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">25 Mai 2018</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>RGPD (R√®glement G√©n√©ral sur la Protection des Donn√©es)</h2>
      <span class="target-tag">Cible : Tout Logiciel / Tout Traitement de Donn√©es<span class="esn-info">ESN : DPO obligatoire si traitement grande √©chelle</span></span>
      <p><strong>Protection donn√©es :</strong> Privacy by design/default, droit √† l'oubli, portabilit√© des donn√©es.<br>
      <strong>Six bases l√©gales :</strong> Consentement explicite, contrat, obligation l√©gale, int√©r√™t vital, mission publique, int√©r√™t l√©gitime.<br>
      <strong>Obligations cl√©s :</strong> Tenir un registre des traitements. Nommer un DPO si traitement √† grande √©chelle. Notifier la CNIL sous 72h en cas de violation. R√©aliser une AIPD si risque √©lev√©.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2016/679/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2016/679</a>
      <a href="https://www.cnil.fr/fr/outil-pia-analyse-dimpact-sur-la-protection-des-donnees" target="_blank" class="reg-link">üõ†Ô∏è Outil PIA (CNIL)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-rgpd')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <!-- Modale Explicative : Crit√®res de Complexit√© -->
  <div class="obligations-modal" id="modal-complexity-explanation">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìä Comprendre l'√âvaluation de Complexit√©</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-complexity-explanation')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <div style="margin-bottom: 20px; padding: 15px; background: #fff3cd; border-left: 4px solid #f39c12; border-radius: 6px;">
          <p style="margin: 0; color: #856404; font-size: 0.9rem; line-height: 1.6;">
            <strong>üìå Nature Indicative :</strong> Les scores pr√©sent√©s constituent une <strong>estimation g√©n√©rique</strong> √† vocation p√©dagogique. Ils visent √† faciliter le dimensionnement des efforts de conformit√© mais <strong>ne remplacent pas une analyse sp√©cifique</strong> √† votre contexte technique, organisationnel et sectoriel.
          </p>
        </div>
        <p style="margin-bottom: 20px; color: #495057; line-height: 1.6;">
          Cette √©valuation vous aide √† <strong>estimer l'effort n√©cessaire</strong> pour vous conformer √† chaque r√©glementation selon 5 crit√®res cl√©s :
        </p>

        <h4>üîß 1. Charge Technique</h4>
        <ul style="margin-bottom: 15px;">
          <li><strong>‚≠ê Simple :</strong> Modifications param√©triques (ex: banni√®re cookie, d√©claration)</li>
          <li><strong>‚≠ê‚≠ê Moyen :</strong> D√©veloppements sp√©cifiques (ex: API, exports structur√©s)</li>
          <li><strong>‚≠ê‚≠ê‚≠ê √âlev√© :</strong> Refonte architecturale (ex: chiffrement bout-en-bout, SBOM)</li>
          <li><strong>‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√© :</strong> R&D complexe (ex: tests biais IA, supervision humaine)</li>
        </ul>

        <h4>üë• 2. Effort Organisationnel</h4>
        <ul style="margin-bottom: 15px;">
          <li><strong>‚≠ê Simple :</strong> Pas de r√¥le d√©di√© requis</li>
          <li><strong>‚≠ê‚≠ê Moyen :</strong> Responsable √† temps partiel</li>
          <li><strong>‚≠ê‚≠ê‚≠ê √âlev√© :</strong> R√¥le permanent (ex: DPO, RSSI)</li>
          <li><strong>‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√© :</strong> Responsabilit√© personnelle des dirigeants</li>
        </ul>

        <h4>üéØ 3. P√©rim√®tre d'Impact</h4>
        <ul style="margin-bottom: 15px;">
          <li><strong>‚≠ê Limit√© :</strong> Composant isol√© (ex: module caisse)</li>
          <li><strong>‚≠ê‚≠ê Mod√©r√© :</strong> Plusieurs composants (ex: authentification, filtrage)</li>
          <li><strong>‚≠ê‚≠ê‚≠ê Large :</strong> Transverse √† l'application (ex: RGPD sur tous traitements)</li>
          <li><strong>‚≠ê‚≠ê‚≠ê‚≠ê Total :</strong> Toute la cha√Æne de valeur (ex: DORA avec clients)</li>
        </ul>

        <h4>üìã 4. Exigences de Preuves</h4>
        <ul style="margin-bottom: 15px;">
          <li><strong>‚≠ê D√©claratif :</strong> Auto-d√©claration simple</li>
          <li><strong>‚≠ê‚≠ê Document√© :</strong> Registres et politiques internes</li>
          <li><strong>‚≠ê‚≠ê‚≠ê Audit√© :</strong> Audit p√©riodique (tous les 3 ans)</li>
          <li><strong>‚≠ê‚≠ê‚≠ê‚≠ê Certifi√© :</strong> Certification par organisme tiers obligatoire</li>
        </ul>

        <h4>‚ö†Ô∏è 5. Risque de Non-Conformit√©</h4>
        <ul style="margin-bottom: 15px;">
          <li><strong>‚≠ê Faible :</strong> Sanctions <10K‚Ç¨, contr√¥les rares</li>
          <li><strong>‚≠ê‚≠ê Mod√©r√© :</strong> 10K-100K‚Ç¨, contr√¥les cibl√©s</li>
          <li><strong>‚≠ê‚≠ê‚≠ê √âlev√© :</strong> >100K‚Ç¨ ou % CA, surveillance active</li>
          <li><strong>‚≠ê‚≠ê‚≠ê‚≠ê Critique :</strong> Blocage de service + sanctions lourdes</li>
        </ul>

        <div class="obligations-highlight">
          <strong>üí° Comment utiliser cette √©valuation :</strong> Priorisez vos chantiers de conformit√© en fonction du score global. Les r√©glementations ‚≠ê‚≠ê‚≠ê‚≠ê n√©cessitent une attention imm√©diate et des ressources significatives.
        </div>
      </div>
    </div>
  </div>

  <!-- Modal RGPD -->
  <div class="obligations-modal" id="modal-rgpd">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - RGPD</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-rgpd')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Obligations Imm√©diates</h4>
        <ul>
          <li><strong>Identifier la base l√©gale</strong> pour chaque traitement de donn√©es (consentement, contrat, int√©r√™t l√©gitime, obligation l√©gale...)</li>
          <li><strong>Tenir un registre des traitements</strong> d√©taillant : finalit√©s, cat√©gories de donn√©es, destinataires, dur√©es de conservation, mesures de s√©curit√©</li>
          <li><strong>Mettre en ≈ìuvre la privacy by design</strong> : minimisation des donn√©es, pseudonymisation, chiffrement</li>
          <li><strong>Informer les utilisateurs</strong> : politique de confidentialit√© claire, accessible, mentionnant tous les droits (acc√®s, rectification, effacement, portabilit√©, opposition)</li>
          <li><strong>S√©curiser les donn√©es</strong> : contr√¥les d'acc√®s, chiffrement en transit et au repos, sauvegardes, journalisation</li>
          <li><strong>Nommer un DPO</strong> (D√©l√©gu√© √† la Protection des Donn√©es) si traitement √† grande √©chelle, donn√©es sensibles ou organisme public</li>
          <li><strong>Notifier la CNIL sous 72h</strong> en cas de violation de donn√©es (avec description, impact, mesures prises)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 20M‚Ç¨ ou 4% du CA mondial annuel selon gravit√©. La CNIL peut aussi ordonner la suspension des traitements.
        </div>
        <h4>üìä Si Traitement √† Risque √âlev√©</h4>
        <ul>
          <li><strong>R√©aliser une AIPD</strong> (Analyse d'Impact sur la Protection des Donn√©es) document√©e</li>
          <li><strong>Consulter la CNIL</strong> avant mise en ≈ìuvre si risque r√©siduel √©lev√© malgr√© mesures</li>
        </ul>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr>
              <th>Crit√®re</th>
              <th>√âvaluation</th>
            </tr>
            <tr>
              <td>üîß Charge Technique</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td>
            </tr>
            <tr>
              <td>üë• Effort Organisationnel</td>
              <td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td>
            </tr>
            <tr>
              <td>üéØ P√©rim√®tre d'Impact</td>
              <td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Large</span></td>
            </tr>
            <tr>
              <td>üìã Exigences de Preuves</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td>
            </tr>
            <tr>
              <td>‚ö†Ô∏è Risque Non-Conformit√©</td>
              <td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="container right">
    <div class="content card-universal card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">25 Mai 2018</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>ePrivacy (Directive Cookie)</h2>
      <span class="target-tag">Cible : Tous Sites Web & Apps<span class="esn-info">ESN : Si site web/app propre ou client</span></span>
      <p><strong>Bandeau cookie obligatoire :</strong> Consentement explicite requis avant tout d√©p√¥t de cookies non essentiels (marketing, analytics).<br>
      <strong>Refus facilit√© :</strong> M√™me nombre de clics que l'acceptation. Interdiction des cookie walls abusifs.<br>
      <strong>Conservation :</strong> Dur√©e maximale 13 mois. Obligation de conserver la preuve du consentement (logs horodat√©s).</p>
      <a href="https://eur-lex.europa.eu/legal-content/FR/TXT/?uri=CELEX%3A32002L0058" target="_blank" class="reg-link">üìÑ Directive 2002/58/CE</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-eprivacy')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <!-- Modal ePrivacy -->
  <div class="obligations-modal" id="modal-eprivacy">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - ePrivacy / Cookies</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-eprivacy')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Obligations sur Tous Sites Web/Apps</h4>
        <ul>
          <li><strong>Afficher un bandeau cookie</strong> avant tout d√©p√¥t de cookie non essentiel</li>
          <li><strong>Permettre le refus facile</strong> : bouton "Tout refuser" aussi visible que "Tout accepter", m√™me nombre de clics</li>
          <li><strong>Ne d√©poser QUE les cookies essentiels</strong> avant consentement (authentification, panier, s√©curit√©, pr√©f√©rences d'affichage basiques)</li>
          <li><strong>Lister tous les cookies</strong> avec finalit√©, dur√©e, tiers concern√©s dans la politique cookies</li>
          <li><strong>Conserver la preuve du consentement</strong> : logs horodat√©s avec choix utilisateur, version bandeau, IP (pseudonymis√©e)</li>
          <li><strong>Limiter la dur√©e</strong> : consentement valable 13 mois maximum, puis redemander</li>
          <li><strong>Respecter le choix</strong> : ne pas recharger cookies refus√©s √† chaque visite (pas de cookie wall abusif)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Amendes CNIL jusqu'√† 20M‚Ç¨ ou 4% CA (cumul possible avec RGPD). Nombreuses condamnations en 2023-2024.
        </div>
        <h4>üç™ Cookies Exempt√©s (Pas de Consentement)</h4>
        <ul>
          <li>Authentification utilisateur (session)</li>
          <li>Panier e-commerce</li>
          <li>Pr√©f√©rences interface (langue, accessibilit√©)</li>
          <li>√âquilibrage charge serveurs</li>
        </ul>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr>
              <th>Crit√®re</th>
              <th>√âvaluation</th>
            </tr>
            <tr>
              <td>üîß Charge Technique</td>
              <td><span class="complexity-score complexity-score-1">‚≠ê Simple</span></td>
            </tr>
            <tr>
              <td>üë• Effort Organisationnel</td>
              <td><span class="complexity-score complexity-score-1">‚≠ê Simple</span></td>
            </tr>
            <tr>
              <td>üéØ P√©rim√®tre d'Impact</td>
              <td><span class="complexity-score complexity-score-1">‚≠ê Limit√©</span></td>
            </tr>
            <tr>
              <td>üìã Exigences de Preuves</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td>
            </tr>
            <tr>
              <td>‚ö†Ô∏è Risque Non-Conformit√©</td>
              <td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="container left">
    <div class="content card-regulated">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">1 Jan 2018</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-fr">France</span>
        </div>
      </div>
      <h2>Loi Anti-Fraude TVA (Certification Caisse)</h2>
      <span class="target-tag">Cible : Logiciels de Caisse & Encaissement</span>
      <p><strong>Certification NF 525 obligatoire :</strong> Tous logiciels de caisse et syst√®mes d'encaissement.<br>
      <strong>Exigences techniques :</strong> Inalt√©rabilit√© des donn√©es, s√©curisation, conservation et archivage conformes.<br>
      <strong>Attestation :</strong> Document √† pr√©senter lors de tout contr√¥le fiscal.<br>
      <strong>Concern√©s :</strong> Points de vente physiques, e-commerce avec module caisse, applications mobiles d'encaissement.</p>
      <a href="https://www.legifrance.gouv.fr/eli/loi/2015/12/29/2015-1785/jo/texte" target="_blank" class="reg-link">üìÑ Loi n¬∞ 2015-1785 (Art. 88)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-antifraude')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <!-- Modal Anti-Fraude TVA -->
  <div class="obligations-modal" id="modal-antifraude">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - Certification Caisse NF 525</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-antifraude')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour √âditeurs de Logiciels de Caisse</h4>
        <ul>
          <li><strong>Obtenir la certification NF 525</strong> aupr√®s d'un organisme accr√©dit√© (LNE, INFOCERT...)</li>
          <li><strong>Garantir l'inalt√©rabilit√©</strong> : donn√©es de caisse non modifiables a posteriori, scellement cryptographique</li>
          <li><strong>S√©curiser</strong> : cl√¥tures journali√®res, num√©rotation continue tickets, tra√ßabilit√© modifications</li>
          <li><strong>Archiver</strong> : conservation s√©curis√©e des donn√©es 6 ans minimum, exports aux formats r√©glementaires</li>
          <li><strong>Fournir une attestation</strong> au commer√ßant utilisateur (certificat de conformit√© individuel)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> 7 500‚Ç¨ d'amende par logiciel/caisse non conforme. Contr√¥les fiscaux renforc√©s depuis 2018.
        </div>
        <h4>üõí Logiciels Concern√©s</h4>
        <ul>
          <li>Logiciels de caisse points de vente (retail, restauration...)</li>
          <li>Applications mobiles d'encaissement (mPOS)</li>
          <li>Syst√®mes e-commerce avec module caisse int√©gr√©</li>
          <li>Syst√®mes de gestion commerciale avec facturation/encaissement</li>
        </ul>
        <h4>üìÑ Pour Commer√ßants Utilisateurs</h4>
        <ul>
          <li><strong>V√©rifier la certification NF 525</strong> du logiciel utilis√©</li>
          <li><strong>Conserver l'attestation</strong> de conformit√© fournie par l'√©diteur</li>
          <li><strong>Pr√©senter l'attestation</strong> en cas de contr√¥le fiscal</li>
        </ul>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr>
              <th>Crit√®re</th>
              <th>√âvaluation</th>
            </tr>
            <tr>
              <td>üîß Charge Technique</td>
              <td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td>
            </tr>
            <tr>
              <td>üë• Effort Organisationnel</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td>
            </tr>
            <tr>
              <td>üéØ P√©rim√®tre d'Impact</td>
              <td><span class="complexity-score complexity-score-1">‚≠ê Limit√©</span></td>
            </tr>
            <tr>
              <td>üìã Exigences de Preuves</td>
              <td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Certifi√©</span></td>
            </tr>
            <tr>
              <td>‚ö†Ô∏è Risque Non-Conformit√©</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="container right">
    <div class="content card-b2c card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">12 Juil 2020</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe (Arr√™t)</span>
        </div>
      </div>
      <h2>Transferts Hors UE (Data Privacy Framework)</h2>
      <span class="target-tag">Cible : SaaS utilisant Cloud US (AWS, Azure, GCP...)</span>
      <p>
        <strong>Nouveau cadre DPF (2023) :</strong> Les transferts vers les soci√©t√©s US certifi√©es "Data Privacy Framework" sont autoris√©s sans formalit√© suppl√©mentaire (√©quivalence ad√©quate).<br>
        <strong>Si non certifi√© DPF :</strong> Maintien des CCT (Clauses Contractuelles Types) + TIA (Transfer Impact Assessment) obligatoire.<br>
        <strong>Action prioritaire :</strong> V√©rifier la certification DPF de vos sous-traitants US sur <a href="https://www.dataprivacyframework.gov/list" target="_blank" style="color: inherit; text-decoration: underline;">le registre officiel</a>.<br>
        <strong>‚ö†Ô∏è Limites DPF :</strong> Le CLOUD Act reste applicable (acc√®s gouvernemental US possible). Pour une immunit√© totale : h√©bergement UE souverain (capital europ√©en).
      </p>
      <a href="https://curia.europa.eu/juris/document/document.jsf?docid=228677" target="_blank" class="reg-link">üìÑ Arr√™t C-311/18 (Schrems II)</a>
      <a href="https://www.dataprivacyframework.gov/" target="_blank" class="reg-link">üõ†Ô∏è Data Privacy Framework</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-schrems')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <!-- Modal Schrems II / DPF -->
  <div class="obligations-modal" id="modal-schrems">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - Transferts Hors UE (Data Privacy Framework)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-schrems')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Si Sous-Traitant US Certifi√© DPF (Data Privacy Framework)</h4>
        <ul>
          <li><strong>V√©rifier la certification active</strong> sur le <a href="https://www.dataprivacyframework.gov/list" target="_blank">registre officiel DPF</a> (AWS, Azure, GCP, Google Workspace, Salesforce... sont certifi√©s)</li>
          <li><strong>Documenter la certification</strong> dans votre registre des traitements RGPD</li>
          <li><strong>Informer les utilisateurs</strong> du transfert vers les √âtats-Unis dans la politique de confidentialit√©</li>
          <li><strong>Aucune TIA ni CCT suppl√©mentaire requise</strong> (d√©cision d'ad√©quation UE-USA en vigueur depuis juillet 2023)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚úÖ DPF actif :</strong> Le Data Privacy Framework remplace le Privacy Shield invalid√© en 2020. Il offre une base l√©gale simplifi√©e pour les transferts vers les soci√©t√©s US certifi√©es.
        </div>
        <h4>‚ö†Ô∏è Si Sous-Traitant NON Certifi√© DPF (ou pays hors UE/USA)</h4>
        <ul>
          <li><strong>R√©aliser une TIA</strong> (Transfer Impact Assessment) : √©valuer les lois du pays destinataire (surveillance, acc√®s gouvernemental)</li>
          <li><strong>Signer des CCT</strong> (Clauses Contractuelles Types) avec le sous-traitant/partenaire</li>
          <li><strong>Documenter les garanties</strong> suppl√©mentaires mises en place (chiffrement, gestion cl√©s UE, pseudonymisation)</li>
          <li><strong>Informer les utilisateurs</strong> des transferts dans la politique de confidentialit√©</li>
          <li><strong>Pr√©voir des alternatives UE</strong> si risque trop √©lev√© (lois de surveillance intrusive)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Risque r√©siduel DPF :</strong> M√™me certifi√© DPF, un h√©bergeur US reste soumis au CLOUD Act (acc√®s gouvernemental US). Le DPF ne supprime pas ce risque, il l'encadre juridiquement.
        </div>
        <h4>üîê Mesures Techniques Suppl√©mentaires (Optionnelles mais Recommand√©es)</h4>
        <ul>
          <li><strong>Chiffrement bout-en-bout</strong> avec cl√©s g√©r√©es uniquement en UE (BYOK - Bring Your Own Key, Customer Managed Keys)</li>
          <li><strong>Pseudonymisation ou anonymisation</strong> des donn√©es sensibles avant transfert</li>
          <li><strong>Confidential Computing</strong> (enclaves TEE, attestation distance) pour isoler les donn√©es en traitement</li>
          <li><strong>Alternative maximale :</strong> H√©bergement 100% UE souverain (capital europ√©en immunis√© au CLOUD Act - OVHcloud, Scaleway, Outscale...)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è CLOUD Act persistant :</strong> Le DPF n'annule pas le CLOUD Act. Les autorit√©s US peuvent toujours exiger l'acc√®s aux donn√©es h√©berg√©es par une soci√©t√© US, m√™me certifi√©e DPF. Une filiale europ√©enne d'une soci√©t√©-m√®re US (ex: AWS Europe, Microsoft Ireland) reste expos√©e. <strong>La seule immunit√© totale : capital europ√©en non contr√¥l√© par entit√© US.</strong>
        </div>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 20M‚Ç¨ ou 4% CA (cumul possible avec RGPD).
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr>
              <th>Crit√®re</th>
              <th>√âvaluation</th>
            </tr>
            <tr>
              <td>üîß Charge Technique</td>
              <td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td>
            </tr>
            <tr>
              <td>üë• Effort Organisationnel</td>
              <td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td>
            </tr>
            <tr>
              <td>üéØ P√©rim√®tre d'Impact</td>
              <td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Large</span></td>
            </tr>
            <tr>
              <td>üìã Exigences de Preuves</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td>
            </tr>
            <tr>
              <td>‚ö†Ô∏è Risque Non-Conformit√©</td>
              <td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="container left">
    <div class="content card-universal">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">24 Nov 2020</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-fr">France</span>
        </div>
      </div>
      <h2>Accessibilit√© Num√©rique (RGAA)</h2>
      <span class="target-tag">Cible : Sites publics & grandes entreprises</span>
      <p><strong>Conformit√© RGAA obligatoire :</strong> Organismes publics et entreprises de plus de 250M‚Ç¨ de CA. Niveau AA minimum (WCAG 2.1).<br>
      <strong>Obligations :</strong> Publier une d√©claration d'accessibilit√© sur chaque site et application. √âtablir un sch√©ma pluriannuel de mise en conformit√©.<br>
      <strong>Crit√®res essentiels :</strong> Compatibilit√© lecteurs d'√©cran, navigation au clavier, contrastes de couleurs, sous-titres pour les vid√©os.</p>
      <a href="https://www.legifrance.gouv.fr/eli/decret/2019/7/24/2019-768/jo/texte" target="_blank" class="reg-link">üìÑ D√©cret n¬∞ 2019-768</a>
      <a href="https://ara.numerique.gouv.fr/" target="_blank" class="reg-link">üõ†Ô∏è Audit ARA (Gouv)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-rgaa')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <!-- Modal RGAA -->
  <div class="obligations-modal" id="modal-rgaa">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - RGAA / Accessibilit√© Num√©rique</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-rgaa')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Organismes Publics</h4>
        <ul>
          <li><strong>Conformit√© RGAA niveau AA minimum</strong> (WCAG 2.1)</li>
          <li><strong>Publier d√©claration d'accessibilit√©</strong> sur chaque site/app</li>
          <li><strong>√âtablir sch√©ma pluriannuel</strong> (3 ans max) + plan d'action annuel</li>
          <li><strong>Moyen de contact</strong> pour signaler probl√®mes accessibilit√©</li>
        </ul>
        <h4>üè¢ Pour Entreprises >250M‚Ç¨ CA</h4>
        <ul>
          <li>M√™mes obligations pour sites/apps g√©n√©rant >250M‚Ç¨ CA annuel France</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 20 000‚Ç¨ par site apr√®s mise en demeure.
        </div>
        <h4>‚ôø Crit√®res Cl√©s</h4>
        <ul>
          <li>Navigation clavier compl√®te</li>
          <li>Compatibilit√© lecteurs √©cran</li>
          <li>Contraste 4.5:1 minimum</li>
          <li>Sous-titres vid√©os, alt images</li>
        </ul>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr>
              <th>Crit√®re</th>
              <th>√âvaluation</th>
            </tr>
            <tr>
              <td>üîß Charge Technique</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td>
            </tr>
            <tr>
              <td>üë• Effort Organisationnel</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td>
            </tr>
            <tr>
              <td>üéØ P√©rim√®tre d'Impact</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td>
            </tr>
            <tr>
              <td>üìã Exigences de Preuves</td>
              <td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Audit√©</span></td>
            </tr>
            <tr>
              <td>‚ö†Ô∏è Risque Non-Conformit√©</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="container right">
    <div class="content card-iot">
      <div class="header-row">
        <span class="date-badge">1 Jan 2021</span>
        <span class="origin-badge origin-fr">France</span>
      </div>
      <h2>Loi AGEC (Indice de R√©parabilit√©)</h2>
      <span class="target-tag">Cible : OS, Logiciels embarqu√©s</span>
      <p><strong>Indice de r√©parabilit√© (note sur 10) :</strong> Int√®gre la dur√©e du support logiciel (mises √† jour OS, firmware, correctifs s√©curit√©).<br>
      <strong>√âquipements concern√©s :</strong> Smartphones, tablettes, ordinateurs portables.<br>
      <strong>Affichage obligatoire :</strong> En magasin physique et sur toutes les fiches produits en ligne.</p>
      <a href="https://www.legifrance.gouv.fr/jorf/id/JORFTEXT000041553759" target="_blank" class="reg-link">üìÑ Loi n¬∞ 2020-105 (AGEC)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-agec')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <!-- Modal AGEC -->
  <div class="obligations-modal" id="modal-agec">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - AGEC / Indice R√©parabilit√©</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-agec')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Fabricants √âquipements √âlectroniques</h4>
        <ul>
          <li><strong>Calculer l'indice de r√©parabilit√©</strong> selon grille officielle (note /10)</li>
          <li><strong>Int√©grer la dur√©e support logiciel</strong> : nombre d'ann√©es de mises √† jour garanties (OS, firmware, correctifs s√©cu)</li>
          <li><strong>Afficher l'indice</strong> : point de vente physique + fiche produit en ligne (obligatoire)</li>
          <li><strong>Publier la grille de calcul</strong> d√©taill√©e en ligne (site fabricant)</li>
        </ul>
        <h4>üì± √âquipements Concern√©s</h4>
        <ul>
          <li>Smartphones et tablettes</li>
          <li>Ordinateurs portables</li>
          <li>T√©l√©viseurs</li>
          <li>Lave-linge, tondeuses √† gazon (√©largissement progressif)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üìä Impact logiciel :</strong> La dur√©e de disponibilit√© des mises √† jour (OS, s√©curit√©) compte pour 20% de la note finale.
        </div>
        <h4>üõ†Ô∏è Pour √âditeurs OS/Firmware Embarqu√©s</h4>
        <ul>
          <li><strong>Annoncer publiquement</strong> la dur√©e de support (ex: "5 ans de mises √† jour")</li>
          <li><strong>Respecter l'engagement</strong> : fournir mises √† jour s√©curit√© + correctifs critiques</li>
          <li><strong>Informer en cas d'arr√™t</strong> du support (fin de vie produit)</li>
        </ul>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr>
              <th>Crit√®re</th>
              <th>√âvaluation</th>
            </tr>
            <tr>
              <td>üîß Charge Technique</td>
              <td><span class="complexity-score complexity-score-1">‚≠ê Simple</span></td>
            </tr>
            <tr>
              <td>üë• Effort Organisationnel</td>
              <td><span class="complexity-score complexity-score-1">‚≠ê Simple</span></td>
            </tr>
            <tr>
              <td>üéØ P√©rim√®tre d'Impact</td>
              <td><span class="complexity-score complexity-score-1">‚≠ê Limit√©</span></td>
            </tr>
            <tr>
              <td>üìã Exigences de Preuves</td>
              <td><span class="complexity-score complexity-score-1">‚≠ê D√©claratif</span></td>
            </tr>
            <tr>
              <td>‚ö†Ô∏è Risque Non-Conformit√©</td>
              <td><span class="complexity-score complexity-score-1">‚≠ê Faible</span></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="container left">
    <div class="content card-b2c">
      <div class="header-row">
        <span class="date-badge">7 Sept 2021</span>
        <span class="origin-badge origin-eu">Europe</span>
      </div>
      <h2>Directive Copyright (Upload Filters)</h2>
      <span class="target-tag">Cible : Plateformes UGC, R√©seaux Sociaux</span>
      <p><strong>Filtrage automatique (Article 17) :</strong> Obligation de filtrer les contenus prot√©g√©s upload√©s par les utilisateurs. Plateformes >5M utilisateurs.<br>
      <strong>Obligations associ√©es :</strong> N√©gocier des accords de licence avec les ayants droit. Mettre en place une proc√©dure de contestation pour les utilisateurs.<br>
      <strong>Plateformes concern√©es :</strong> YouTube, TikTok, Dailymotion et toutes plateformes de partage vid√©o/musique.<br>
      <strong>Exemption startup :</strong> Entreprises de <3 ans ET <10M‚Ç¨ CA.</p>
      <a href="https://eur-lex.europa.eu/eli/dir/2019/790/oj" target="_blank" class="reg-link">üìÑ Directive (UE) 2019/790 (DSM)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-copyright')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-b2c">
      <div class="header-row">
        <span class="date-badge">1 Jan 2022</span>
        <span class="origin-badge origin-fr">France (Transpo UE)</span>
      </div>
      <h2>Garantie L√©gale de Conformit√© Num√©rique</h2>
      <span class="target-tag">Cible : Editeurs B2C, Jeux, Apps</span>
      <p><strong>Mises √† jour obligatoires :</strong> Pendant 2 ans minimum pour tous produits et services num√©riques B2C.<br>
      <strong>Garanties exig√©es :</strong> Maintien de la conformit√©, s√©curit√© (correctifs de vuln√©rabilit√©s), respect des fonctionnalit√©s annonc√©es.<br>
      <strong>Recours du consommateur :</strong> Droit √† la r√©paration (correctif logiciel), au remplacement ou au remboursement.<br>
      <strong>Produits concern√©s :</strong> Applications mobiles, logiciels PC/Mac, jeux vid√©o, services SaaS B2C.</p>
      <a href="https://www.legifrance.gouv.fr/jorf/id/JORFTEXT000043884445" target="_blank" class="reg-link">üìÑ Ordonnance n¬∞ 2021-1247</a>
      <a href="https://eur-lex.europa.eu/eli/dir/2019/770/oj" target="_blank" class="reg-link">üìÑ Directive (UE) 2019/770</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-conformite')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container left">
    <div class="content card-b2c">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">28 Mai 2022</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Amendes jusqu'√† 4% du CA ou 300K‚Ç¨">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>Directive Omnibus (Prix & Avis)</h2>
      <span class="target-tag">Cible : E-commerce, Marketplaces</span>
      <p><strong>Affichage des promotions :</strong> Obligation technique d'afficher le prix le plus bas pratiqu√© lors des 30 derniers jours comme prix de r√©f√©rence pour toute r√©duction.<br>
      <strong>Avis clients :</strong> Interdiction des faux avis. Obligation d'informer si les avis sont v√©rifi√©s (badge) et comment.<br>
      <strong>Impact technique :</strong> Historisation stricte des prix en base de donn√©es n√©cessaire pour le calcul automatique des promotions.</p>
      <a href="https://eur-lex.europa.eu/legal-content/FR/TXT/?uri=CELEX%3A32019L2161" target="_blank" class="reg-link">üìÑ Directive (UE) 2019/2161</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-omnibus')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-b2c card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">28 Juin 2025</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>Accessibilit√© Europ√©enne (EAA)</h2>
      <span class="target-tag">Cible : Tout E-commerce & Service Bancaire B2C</span>
      <p><strong>Extension de l'obligation :</strong> L'accessibilit√© (WCAG) ne concerne plus seulement le public/grands comptes, mais <strong>tous les services de commerce √©lectronique</strong>, services bancaires, transports et livres num√©riques.<br>
      <strong>Exemption :</strong> Uniquement les micro-entreprises (<10 salari√©s, <2M‚Ç¨ CA).<br>
      <strong>Impact :</strong> Audit et mise en conformit√© obligatoires avant juin 2025.</p>
      <a href="https://eur-lex.europa.eu/eli/dir/2019/882/oj" target="_blank" class="reg-link">üìÑ Directive (UE) 2019/882</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-eaa')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <!-- Modal Garantie Conformit√© -->
  <div class="obligations-modal" id="modal-conformite">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - Garantie Conformit√© Num√©rique</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-conformite')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour √âditeurs B2C (Vente Consommateurs)</h4>
        <ul>
          <li><strong>Fournir mises √† jour</strong> n√©cessaires au maintien de la conformit√© pendant <strong>2 ans minimum</strong></li>
          <li><strong>Informer le consommateur</strong> des mises √† jour disponibles (notifications, emails)</li>
          <li><strong>Garantir les fonctionnalit√©s</strong> annonc√©es √† la vente (description, publicit√©, d√©mo)</li>
          <li><strong>Assurer la s√©curit√©</strong> : correctifs vuln√©rabilit√©s critiques pendant 2 ans</li>
          <li><strong>Compatibilit√©</strong> : si int√©gration mat√©riel, garantir fonctionnement avec versions OS standard</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è D√©faut de conformit√© :</strong> Consommateur peut exiger r√©paration (correctif), remplacement ou remboursement (r√©solution contrat).
        </div>
        <h4>üì± Produits/Services Concern√©s</h4>
        <ul>
          <li>Applications mobiles vendues (Android, iOS)</li>
          <li>Logiciels PC/Mac vendus aux particuliers</li>
          <li>Jeux vid√©o (hors contenu purement en ligne multijoueur)</li>
          <li>SaaS B2C avec abonnement consommateur</li>
          <li>Contenus num√©riques (ebooks avec DRM, vid√©os, musique)</li>
        </ul>
        <h4>üïí Dur√©e Garantie</h4>
        <ul>
          <li><strong>2 ans minimum</strong> √† compter de la fourniture initiale</li>
          <li>Sauf si dur√©e plus longue annonc√©e contractuellement</li>
          <li>Pour abonnements : pendant toute la dur√©e + 2 ans apr√®s r√©siliation si achat unique</li>
        </ul>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr>
              <th>Crit√®re</th>
              <th>√âvaluation</th>
            </tr>
            <tr>
              <td>üîß Charge Technique</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td>
            </tr>
            <tr>
              <td>üë• Effort Organisationnel</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td>
            </tr>
            <tr>
              <td>üéØ P√©rim√®tre d'Impact</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td>
            </tr>
            <tr>
              <td>üìã Exigences de Preuves</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td>
            </tr>
            <tr>
              <td>‚ö†Ô∏è Risque Non-Conformit√©</td>
              <td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="obligations-modal" id="modal-eaa">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - European Accessibility Act (Juin 2025)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-eaa')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Qui est concern√© ? (Changement Majeur)</h4>
        <ul>
          <li><strong>E-commerce :</strong> Tous les sites de vente en ligne (B2C)</li>
          <li><strong>Banques & Fintech :</strong> Services bancaires aux consommateurs</li>
          <li><strong>Transports :</strong> Billetterie et info voyageurs (Air, Bus, Train)</li>
          <li><strong>Livres num√©riques :</strong> Ebooks et liseuses</li>
          <li><strong>Terminaux :</strong> Bornes de paiement, distributeurs billets</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üö® Diff√©rence avec RGAA :</strong> S'applique au secteur priv√© sans seuil de CA √©lev√© (seules les micro-entreprises sont exempt√©es).
        </div>
        <h4>‚ôø Obligations Techniques</h4>
        <ul>
          <li>Respect des normes <strong>EN 301 549</strong> (√©quivalent WCAG 2.1 AA)</li>
          <li>Navigation clavier, compatibilit√© lecteurs d'√©cran</li>
          <li>Information accessible sur le fonctionnement du service</li>
        </ul>
        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Total</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Audit√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="obligations-modal" id="modal-omnibus">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - Directive Omnibus</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-omnibus')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>üè∑Ô∏è Gestion des Prix (Promotion)</h4>
        <ul>
          <li><strong>Algorithme obligatoire :</strong> Calcul auto du prix de r√©f√©rence = prix le plus bas des 30 derniers jours.</li>
          <li><strong>Historisation :</strong> Stockage des logs de prix produits sur >30 jours.</li>
          <li><strong>Interdiction :</strong> Remonter artificiellement un prix juste avant une promo.</li>
        </ul>
        <h4>‚≠ê Gestion des Avis</h4>
        <ul>
          <li><strong>Transparence :</strong> Indiquer "Avis v√©rifi√©" ou "Avis non v√©rifi√©".</li>
          <li><strong>Interdiction :</strong> Faux avis, avis achet√©s, ou suppression s√©lective des avis n√©gatifs.</li>
        </ul>
        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âtendu</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Audit√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="obligations-modal" id="modal-csrd">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - CSRD (Reporting Durabilit√©)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-csrd')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour √âditeurs SaaS B2B</h4>
        <ul>
          <li><strong>Export donn√©es carbone :</strong> Capacit√© √† extraire les donn√©es Scope 3 (√©missions indirectes) pour reporting client.</li>
          <li><strong>Collecte donn√©es sociales :</strong> Parit√© H/F, taux d'accidents, formations, diversit√©.</li>
          <li><strong>Int√©gration API :</strong> Connecteurs vers outils de reporting ESG (Workiva, Diligent, etc.).</li>
        </ul>
        <h4>üîß Impact Technique par Type de Logiciel</h4>
        <ul>
          <li><strong>ERP/Compta :</strong> Ventilation CO2 par poste de d√©pense (achats, d√©placements).</li>
          <li><strong>RH :</strong> Indicateurs sociaux exportables (parit√©, turnover, formation).</li>
          <li><strong>Supply Chain :</strong> Tra√ßabilit√© carbone des flux logistiques.</li>
        </ul>
        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âtendu</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="container left">
    <div class="content card-b2c">
      <div class="header-row">
        <span class="date-badge">9 Juin 2023</span>
        <span class="origin-badge origin-fr">France</span>
      </div>
      <h2>Loi Influenceurs</h2>
      <span class="target-tag">Cible : R√©seaux Sociaux, Plateformes</span>
      <p><strong>Syst√®me de signalement :</strong> Bouton de signalement des contenus illicites obligatoire. Traitement prioritaire des signaleurs de confiance.<br>
      <strong>Promotions encadr√©es :</strong> Restrictions sur chirurgie esth√©tique et paris sportifs.<br>
      <strong>Protection des mineurs :</strong> Interdiction de la publicit√© ciblant les enfants de moins de 16 ans sans consentement parental.</p>
      <a href="https://www.legifrance.gouv.fr/eli/loi/2023/6/9/2023-451/jo/texte" target="_blank" class="reg-link">üìÑ Loi n¬∞ 2023-451 (Influenceurs)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-influenceurs')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-universal">
      <div class="header-row">
        <span class="date-badge">20 Sept 2023</span>
        <span class="origin-badge origin-eu">Europe</span>
      </div>
      <h2>eIDAS 2.0 (Identit√© Num√©rique)</h2>
      <span class="target-tag">Cible : Tout Service en Ligne, SSO, Auth</span>
      <p><strong>Wallet Europ√©en d'Identit√© (EUDI) :</strong> Accessible √† tous les citoyens UE. Stockage identit√©, permis, dipl√¥mes, prescriptions m√©dicales.<br>
      <strong>Services publics :</strong> Obligation d'accepter l'authentification via wallet UE.<br>
      <strong>Services priv√©s :</strong> Adoption volontaire fortement encourag√©e (sauf VLOPs d√©sign√©es DSA : obligation). Signature √©lectronique qualifi√©e int√©gr√©e.<br>
      <strong>Impact SSO/OAuth :</strong> Interop√©rabilit√© paneurop√©enne obligatoire.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2024/1183/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2024/1183 (eIDAS 2)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-eidas')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container left">
    <div class="content card-b2b">
      <div class="header-row">
        <span class="date-badge">1 Jan 2024</span>
        <span class="origin-badge origin-eu">Europe</span>
      </div>
      <h2>CSRD (Reporting Durabilit√©)</h2>
      <span class="target-tag">Cible : ERP, RH, Achats, Supply Chain</span>
      <p><strong>Collecte de donn√©es extra-financi√®res :</strong> Les grandes entreprises doivent reporter leur impact carbone et social. Elles exigent ces donn√©es de leurs fournisseurs logiciels.<br>
      <strong>Impact produit :</strong> Les SaaS B2B (RH, Compta, Logistique) doivent √™tre capables de collecter et d'exporter les donn√©es d'impact (CO2, parit√©, √©thique) pour alimenter le reporting des clients.</p>
      <a href="https://eur-lex.europa.eu/eli/dir/2022/2464/oj" target="_blank" class="reg-link">üìÑ Directive (UE) 2022/2464</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-csrd')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-b2c">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">17 F√©v 2024</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>Digital Services Act (DSA)</h2>
      <span class="target-tag">Cible : Marketplaces, H√©bergeurs</span>
      <p><strong>M√©canisme "Notice & Action" obligatoire :</strong> Syst√®me de signalement et retrait des contenus illicites.<br>
      <strong>Marketplaces :</strong> Tra√ßabilit√© compl√®te des vendeurs professionnels via KYBC (Know Your Business Customer).<br>
      <strong>Tr√®s grandes plateformes (>45M utilisateurs UE) :</strong> Audit ind√©pendant annuel, analyse des risques syst√©miques, transparence des algorithmes de recommandation.<br>
      <strong>Point de contact UE :</strong> Obligatoire pour toutes les plateformes op√©rant dans l'UE.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2022/2065/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2022/2065 (DSA)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-dsa')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container left">
    <div class="content card-b2c">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">2 Mars 2024</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>DMA (Digital Markets Act)</h2>
      <span class="target-tag">Cible : Gatekeepers (Apple, Google, Meta...)</span>
      <p><strong>Gatekeepers identifi√©s (>45M utilisateurs UE, >75M‚Ç¨ CA) :</strong> Obligation d'interop√©rabilit√© pour les messageries (WhatsApp, iMessage).<br>
      <strong>App Stores :</strong> Autoriser le side-loading, les stores tiers et les moteurs de paiement alternatifs.<br>
      <strong>Interdictions :</strong> Auto-pr√©f√©rence dans les classements et r√©sultats de recherche.<br>
      <strong>Obligations de partage :</strong> Acc√®s aux donn√©es de la plateforme pour les tiers. Portabilit√© des donn√©es en temps r√©el.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2022/1925/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2022/1925 (DMA)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-dma')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-b2b">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">22 Mai 2024</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale (blocage DNS Arcom possible)">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-fr">France</span>
        </div>
      </div>
      <h2>Loi SREN</h2>
      <span class="target-tag">Cible : Cloud, Sites Adultes</span>
      <p><strong>Fournisseurs cloud :</strong> Cr√©dits limit√©s √† 12 mois maximum. Obligation de remboursement des cr√©dits non utilis√©s.<br>
      <strong>Sites contenus adultes :</strong> V√©rification stricte de l'√¢ge avec double anonymat garanti. Solutions certifi√©es (FranceConnect+ et tiers agr√©√©s).<br>
      <strong>H√©bergeurs :</strong> D√©signation d'un repr√©sentant l√©gal dans l'UE et d'un contact en France obligatoires.</p>
      <a href="https://www.legifrance.gouv.fr/eli/loi/2024/5/21/2024-449/jo/texte" target="_blank" class="reg-link">üìÑ Loi n¬∞ 2024-449 (SREN)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-sren')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container left">
    <div class="content card-b2b card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">18 Oct 2024</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">UE (Transpo FR en cours)</span>
        </div>
      </div>
      <h2>NIS 2 (Cybers√©curit√© Renforc√©e)</h2>
      <span class="target-tag">Cible : SaaS B2B >50 salari√©s, ESN<span class="esn-info">ESN : >50 sal. Important / >250 sal. ou >50M‚Ç¨ Essentiel</span></span>
      <p><strong>Auto-recensement obligatoire :</strong> Entit√©s essentielles (>250 sal. ou >50M‚Ç¨ CA) et importantes (>50 sal.) doivent se recenser aupr√®s de l'ANSSI.<br>
      <strong>Notification des incidents :</strong> D√©claration sous 24 heures pour les incidents de s√©curit√© majeurs.<br>
      <strong>Mesures techniques obligatoires :</strong> Authentification multi-facteurs (MFA), chiffrement, sauvegardes s√©curis√©es, gestion des correctifs, analyse annuelle des risques.<br>
      <strong>Responsabilit√© des dirigeants :</strong> Les dirigeants sont personnellement responsables de la cybers√©curit√©.</p>
      <a href="https://eur-lex.europa.eu/eli/dir/2022/2555/oj" target="_blank" class="reg-link">üìÑ Directive (UE) 2022/2555 (NIS 2)</a>
      <a href="https://mon-service-securise.ssi.gouv.fr/" target="_blank" class="reg-link">üõ†Ô∏è MonServiceS√©curis√© (ANSSI)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-nis2')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-regulated card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">17 Jan 2025</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>DORA (Entr√©e en vigueur)</h2>
      <span class="target-tag">Cible : Fintech, SaaS Bancaire<span class="esn-info">ESN : Si prestataire TIC pour secteur financier</span></span>
      <p><strong>Contrats de r√©silience obligatoires :</strong> Tous les prestataires TIC devant clients du secteur financier. Surveillance directe par les ESA (autorit√©s europ√©ennes) pour les prestataires TIC critiques.<br>
      <strong>Tests de r√©silience :</strong> TLPT (Threat-Led Penetration Testing) tous les 3 ans. Notification des incidents sous 4 heures.<br>
      <strong>Obligations compl√©mentaires :</strong> Registre des risques TIC tenu √† jour. Due diligence renforc√©e sur les fournisseurs.<br>
      <strong>France :</strong> La qualification SecNumCloud ANSSI est fortement recommand√©e pour les donn√©es financi√®res.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2022/2554/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2022/2554 (DORA)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-dora')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container left">
    <div class="content card-universal card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">2 F√©v 2025</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>AI Act (Interdictions)</h2>
      <span class="target-tag">Cible : Tous D√©veloppeurs IA<span class="esn-info">ESN : Si d√©veloppement solutions IA pour clients</span></span>
      <p><strong>Pratiques interdites imm√©diatement :</strong> Notation sociale g√©n√©ralis√©e, police pr√©dictive, reconnaissance des √©motions sur le lieu de travail, manipulation comportementale.<br>
      <strong>Remarque :</strong> Les autres obligations concernant l'IA (syst√®mes g√©n√©ratifs, haut risque) s'appliquent progressivement selon les √©ch√©ances suivantes.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2024/1689/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2024/1689 (AI Act)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-aiact')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-iot">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">12 Sept 2025</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>Data Act (Acc√®s IoT)</h2>
      <span class="target-tag">Cible : SaaS IoT, Industrie</span>
      <p><strong>Acc√®s obligatoire aux donn√©es IoT :</strong> Les fabricants doivent fournir les donn√©es brutes aux utilisateurs. Droit de partage avec des tiers (r√©parateurs, SAV).<br>
      <strong>Exigences techniques :</strong> Mise en place d'APIs standardis√©es. D√©lai de mise √† disposition sans retard injustifi√©.<br>
      <strong>Clauses contractuelles interdites :</strong> Interdiction de bloquer l'acc√®s aux donn√©es par contrat.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2023/2854/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2023/2854 (Data Act)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-dataact-iot')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container left">
    <div class="content card-universal card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">2 Ao√ªt 2025</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>AI Act (Mod√®les GPAI)</h2>
      <span class="target-tag">Cible : √âditeurs IA G√©n√©rative<span class="esn-info">ESN : Si d√©veloppement solutions IA pour clients</span></span>
      <p><strong>Mod√®les d'IA g√©n√©rative :</strong> Documentation technique compl√®te, r√©sum√© des donn√©es d'entra√Ænement (respect du copyright).<br>
      <strong>Transparence :</strong> Marquage technique (si A/V) et mention visible "g√©n√©r√© par IA" (si texte).<br>
      <strong>Mod√®les √† risque syst√©mique (>10¬≤‚Åµ FLOPS) :</strong> √âvaluations adversaires, tests de robustesse, notification obligatoire des incidents graves.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2024/1689/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2024/1689 (AI Act)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-aiact-gpai')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-iot">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">Juil 2026</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>ESPR (Passeport Num√©rique)</h2>
      <span class="target-tag">Cible : ERP, PLM, Supply Chain</span>
      <p><strong>Passeport Num√©rique Produit (DPP) :</strong> Registre num√©rique obligatoire accessible par QR code ou RFID sur les produits.<br>
      <strong>Informations requises :</strong> Composition, r√©parabilit√©, empreinte carbone, capacit√© de recyclage.<br>
      <strong>Logiciels concern√©s :</strong> Syst√®mes ERP, PLM et supply chain devront int√©grer la g√©n√©ration et le stockage des DPP.<br>
      <strong>Secteurs prioritaires :</strong> Textile et batteries d√®s 2026.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2024/1781/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2024/1781 (ESPR)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-espr')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container left">
    <div class="content card-universal card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">2 Ao√ªt 2026</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>AI Act (Syst√®mes Haut Risque)</h2>
      <span class="target-tag">Cible : IA Recrutement, Cr√©dit, Justice<span class="esn-info">ESN : Si d√©veloppement solutions IA pour clients</span></span>
      <p><strong>Syst√®mes IA √† haut risque :</strong> Recrutement (tri automatique de CV), scoring de cr√©dit, justice pr√©dictive, surveillance biom√©trique, gestion des infrastructures critiques.<br>
      <strong>Avant mise sur le march√© :</strong> √âvaluation de conformit√©, tests de d√©tection des biais, supervision humaine obligatoire (human-in-the-loop).<br>
      <strong>Obligations permanentes :</strong> Gestion des risques, gouvernance des donn√©es, d√©clarations UE de conformit√©.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2024/1689/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2024/1689 (AI Act)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-aiact-highrisk')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-b2b">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">1 Sept 2026</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-fr">France</span>
        </div>
      </div>
      <h2>Facturation √âlectronique (V1)</h2>
      <span class="target-tag">Cible : Logiciels de Gestion / Compta</span>
      <p><strong>R√©ception obligatoire pour tous :</strong> Toutes les entreprises doivent pouvoir recevoir des factures √©lectroniques.<br>
      <strong>√âmission obligatoire :</strong> Grandes Entreprises et ETI uniquement (PME/TPE : septembre 2027).<br>
      <strong>Formats accept√©s :</strong> Factur-X (PDF/XML hybride) ou UBL pur. Transmission via PDP (Plateforme De D√©mat√©rialisation Partenaire) ou PPF (Portail Public de Facturation).<br>
      <strong>e-Reporting :</strong> Transmission simultan√©e des transactions B2C et exports.</p>
      <a href="https://www.legifrance.gouv.fr/eli/ordonnance/2024/6/5/2024-640/jo/texte" target="_blank" class="reg-link">üìÑ Ordonnance n¬∞ 2024-640</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-facture-v1')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container left">
    <div class="content card-universal card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">Sept 2026</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>Cyber Resilience Act (Reporting)</h2>
      <span class="target-tag">Cible : Tout Editeur Logiciel<span class="esn-info">ESN : Si √©dition logiciels commerciaux</span></span>
      <p><strong>Notification des vuln√©rabilit√©s :</strong> Vuln√©rabilit√©s activement exploit√©es (24 heures), vuln√©rabilit√©s non exploit√©es (72 heures). Signalement obligatoire √† l'ENISA et au CSIRT national.<br>
      <strong>CVD recommand√©e :</strong> Publication coordonn√©e des vuln√©rabilit√©s (Coordinated Vulnerability Disclosure). Base EUDB centralis√©e.<br>
      <strong>Logiciels concern√©s :</strong> Tous logiciels avec connexion r√©seau ou traitant des donn√©es sensibles.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2024/2847/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2024/2847 (CRA)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-cra-reporting')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-b2b">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">12 Jan 2027</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>Data Act (Cloud Switching)</h2>
      <span class="target-tag">Cible : Fournisseurs Cloud / IaaS / PaaS</span>
      <p><strong>Frais de sortie interdits :</strong> Interdiction totale des egress fees et des p√©nalit√©s pour changement de fournisseur cloud.<br>
      <strong>D√©lais de migration garantis :</strong> 30 jours pour le transfert des donn√©es + 30 jours d'assistance technique.<br>
      <strong>Format d'export obligatoire :</strong> Donn√©es dans un format structur√© lisible par machine.<br>
      <strong>Services concern√©s :</strong> IaaS, PaaS, SaaS avec stockage de donn√©es cons√©quent.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2023/2854/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2023/2854 (Data Act)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-dataact-cloud')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container left">
    <div class="content card-universal card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">2 Ao√ªt 2027</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale (gradu√©es selon gravit√©)">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>AI Act (Application Totale)</h2>
      <span class="target-tag">Cible : Tous Syst√®mes IA<span class="esn-info">ESN : Si d√©veloppement solutions IA pour clients</span></span>
      <p><strong>Fin de la p√©riode transitoire :</strong> Application compl√®te de l'AI Act, y compris pour les syst√®mes d√©j√† d√©ploy√©s avant la r√©glementation.<br>
      <strong>Syst√®mes existants √† haut risque :</strong> Mise en conformit√© obligatoire avec effet r√©troactif.<br>
      <strong>Infrastructure compl√®te :</strong> Registre europ√©en des syst√®mes IA op√©rationnel, organismes notifi√©s certifi√©s, surveillance post-march√© active.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2024/1689/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2024/1689 (AI Act)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-aiact-full')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-b2b">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">1 Sept 2027</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-fr">France</span>
        </div>
      </div>
      <h2>Facturation √âlectronique (V2)</h2>
      <span class="target-tag">Cible : Logiciels pour PME/TPE</span>
      <p><strong>G√©n√©ralisation PME/TPE :</strong> √âmission de factures structur√©es obligatoire pour toutes les entreprises. Fin du papier et du PDF simple pour le B2B.<br>
      <strong>Int√©gration logiciels :</strong> Tous logiciels de facturation, comptabilit√©, ERP et CRM doivent int√©grer une connexion PDP ou PPF.<br>
      <strong>Archivage :</strong> Archivage √©lectronique pendant 10 ans obligatoire. Contr√¥les fiscaux automatis√©s (TVA, d√©tection fraude).</p>
      <a href="https://www.legifrance.gouv.fr/eli/ordonnance/2024/6/5/2024-640/jo/texte" target="_blank" class="reg-link">üìÑ Ordonnance n¬∞ 2024-640</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-facture-v2')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container left">
    <div class="content card-universal card-esn">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">D√©c 2027</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>Cyber Resilience Act (Total)</h2>
      <span class="target-tag">Cible : Tout Logiciel Commercial<span class="esn-info">ESN : Marquage CE + SBOM si √©dition logiciel</span></span>
      <p><strong>Marquage CE obligatoire :</strong> Tous logiciels commerciaux doivent respecter les principes Security by Design. Livraison d'un SBOM (Software Bill of Materials). Support s√©curit√© minimum 5 ans.<br>
      <strong>Produits critiques (Classe I/II) :</strong> OS, antivirus, VPN, firewalls, syst√®mes industriels - certification par organisme tiers obligatoire.<br>
      <strong>Documentation requise :</strong> Analyse de risques, rapports de tests s√©curit√©, instructions d'utilisation s√©curis√©e. Open-source commercialis√© inclus.<br>
      <strong>Exemption :</strong> SaaS pur sans composant client install√©.<br>
      <strong>‚ö†Ô∏è R√©troactivit√© :</strong> Peut √©galement s'appliquer aux produits d√©j√† sur le march√©.</p>
      <a href="https://eur-lex.europa.eu/eli/reg/2024/2847/oj" target="_blank" class="reg-link">üìÑ R√®glement (UE) 2024/2847 (CRA)</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-cra-total')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container right">
    <div class="content card-regulated">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">2027 (Est.)</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>DSP3 / PSR (Payment Services Regulation)</h2>
      <span class="target-tag">Cible : Fintech, E-commerce, PSP</span>
      <p><strong>V√©rification anti-fraude :</strong> Obligation de v√©rifier la correspondance IBAN/Nom du b√©n√©ficiaire pour tous les virements.<br>
      <strong>Open Banking renforc√© :</strong> APIs en temps r√©el obligatoires, dashboards unifi√©s, initiation de paiement facilit√©e. Paiements instantan√©s paneurop√©ens.<br>
      <strong>Obligations des banques :</strong> Mise √† disposition d'APIs standardis√©es gratuitement. Agr√©ment PSP simplifi√© pour les nouveaux acteurs.<br>
      <strong>Extra-territorialit√© :</strong> Concerne √©galement les fournisseurs SaaS √©trangers avec clients en France.</p>
      <a href="https://finance.ec.europa.eu/regulation-and-supervision/financial-services-legislation/implementing-and-delegated-acts/payment-services-directive-psd2_en" target="_blank" class="reg-link">üìÑ PSR - Proposition COM/2023</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-dsp3')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <div class="container left">
    <div class="content card-regulated">
      <div class="header-row">
        <div class="header-left">
          <span class="date-badge">2028 (Est.)</span>
        </div>
        <div class="header-right">
          <span class="sanctions-badge" title="Voir d√©tails des sanctions dans la modale">‚ö†Ô∏è Sanctions</span>
          <span class="origin-badge origin-eu">Europe</span>
        </div>
      </div>
      <h2>EHDS (Espace Europ√©en Donn√©es Sant√©)</h2>
      <span class="target-tag">Cible : Logiciels Sant√© (DPI, Imagerie)</span>
      <p><strong>Interop√©rabilit√© obligatoire :</strong> Dossiers patients au format EEHRxF (r√©sum√© de sant√©, e-prescription). Acc√®s transfrontalier aux donn√©es de sant√© entre pays UE.<br>
      <strong>Gestion du consentement :</strong> Consentement patient centralis√© pour les usages de soins et de recherche.<br>
      <strong>Logiciels concern√©s :</strong> Dossiers Patient Informatis√©s (DPI), imagerie m√©dicale, laboratoires. Certification renforc√©e des produits de sant√© num√©rique.<br>
      <strong>Calendrier :</strong> Projets pilotes nationaux d√®s 2026.</p>
      <a href="https://health.ec.europa.eu/publications/proposal-regulation-european-health-data-space_en" target="_blank" class="reg-link">üìÑ EHDS - Proposition COM/2022</a>
      <button class="obligations-btn" onclick="openObligationsModal('modal-ehds')">
        üìã Mes obligations
      </button>
    </div>
  </div>

  <!-- Modal Directive Copyright -->
  <div class="obligations-modal" id="modal-copyright">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - Directive Copyright / Upload Filters</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-copyright')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Plateformes UGC >5M Users</h4>
        <ul>
          <li><strong>Filtrage automatique</strong> contenus prot√©g√©s (Article 17) avant publication</li>
          <li><strong>N√©gocier licences</strong> avec ayants-droit (SACEM, SACD, √©diteurs...)</li>
          <li><strong>Proc√©dure contestation</strong> utilisateur (recours si faux positif)</li>
          <li><strong>Analyse contenus</strong> : empreintes num√©riques (fingerprinting vid√©o/audio)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Exemption :</strong> Startups <3 ans ET <10M‚Ç¨ CA exempt√©es temporairement.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Loi Influenceurs -->
  <div class="obligations-modal" id="modal-influenceurs">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - Loi Influenceurs</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-influenceurs')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Plateformes/R√©seaux Sociaux</h4>
        <ul>
          <li><strong>Bouton signalement</strong> contenus illicites visible</li>
          <li><strong>Traitement prioritaire</strong> signalements de confiance</li>
          <li><strong>Blocage publicit√©</strong> produits interdits (chirurgie esth√©tique, paris sportifs, sans consentement parental pour -16 ans)</li>
          <li><strong>V√©rification √¢ge</strong> pour publicit√© ciblant -16 ans</li>
        </ul>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-1">‚≠ê Simple</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-1">‚≠ê Simple</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-1">‚≠ê Faible</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal eIDAS 2.0 -->
  <div class="obligations-modal" id="modal-eidas">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - eIDAS 2.0 / Wallet Europ√©en</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-eidas')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Services Publics (Obligatoire)</h4>
        <ul>
          <li><strong>Accepter authentification</strong> via EUDI Wallet</li>
          <li><strong>Int√©gration SSO</strong> compatible wallet UE</li>
        </ul>
        <h4>üí° Pour Services Priv√©s (Recommand√©)</h4>
        <ul>
          <li><strong>Adoption volontaire</strong> fortement encourag√©e (sauf VLOPs - Very Large Online Platforms d√©sign√©es par le DSA : obligation d'accepter le portefeuille)</li>
          <li><strong>Interop√©rabilit√© OAuth/OpenID</strong> avec wallet UE</li>
          <li>Permet authentification unifi√©e citoyens UE</li>
        </ul>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-1">‚≠ê Faible</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal DMA -->
  <div class="obligations-modal" id="modal-dma">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - DMA / Gatekeepers</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-dma')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Si Gatekeeper (>45M Users UE, >75M‚Ç¨ CA)</h4>
        <ul>
          <li><strong>Interop√©rabilit√©</strong> : ouvrir messageries (WhatsApp, iMessage)</li>
          <li><strong>App Stores</strong> : autoriser side-loading, stores tiers, moteurs paiement alternatifs</li>
          <li><strong>Interdiction auto-pr√©f√©rence</strong> : ne pas favoriser ses services dans classements</li>
          <li><strong>Portabilit√© donn√©es</strong> temps r√©el pour utilisateurs</li>
          <li><strong>Acc√®s donn√©es</strong> pour d√©veloppeurs tiers (APIs)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 10% CA mondial, 20% r√©cidive.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√©</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Total</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Audit√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal DSA -->
  <div class="obligations-modal" id="modal-dsa">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - DSA</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-dsa')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Toutes Plateformes/H√©bergeurs</h4>
        <ul>
          <li><strong>Syst√®me "Notice & Action"</strong> : signalement + retrait contenus illicites</li>
          <li><strong>Point de contact UE</strong> obligatoire</li>
        </ul>
        <h4>üè™ Pour Marketplaces</h4>
        <ul>
          <li><strong>KYBC (Know Your Business Customer)</strong> : tra√ßabilit√© vendeurs professionnels</li>
          <li>V√©rification identit√©, SIRET, coordonn√©es bancaires</li>
        </ul>
        <h4>üè¢ Si Tr√®s Grande Plateforme (>45M Users UE)</h4>
        <ul>
          <li><strong>Audit ind√©pendant annuel</strong></li>
          <li><strong>Analyse risques syst√©miques</strong> (d√©sinformation, manipulation...)</li>
          <li><strong>Transparence algorithmes</strong> recommandation</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 6% CA mondial annuel. Suspension service possible en cas de manquement grave r√©p√©t√©.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Large</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Audit√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Critique</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal SREN -->
  <div class="obligations-modal" id="modal-sren">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - Loi SREN</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-sren')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚òÅÔ∏è Pour Fournisseurs Cloud IaaS/PaaS/SaaS</h4>
        <ul>
          <li><strong>Cr√©dits cloud</strong> : dur√©e de validit√© des offres de cr√©dits limit√©e √† 12 mois maximum pour √©viter l'enfermement propri√©taire (lock-in). Expiration sans remboursement.</li>
          <li><strong>Repr√©sentant l√©gal UE</strong> obligatoire pour r√©pondre √† la justice fran√ßaise</li>
          <li><strong>Frais de sortie</strong> : suppression ou plafonnement au co√ªt r√©el (transfert donn√©es)</li>
          <li><strong>Interop√©rabilit√©</strong> : obligation de compatibilit√© technique pour faciliter migration clients</li>
          <li><strong>Portabilit√© donn√©es</strong> : export format structur√© dans d√©lai raisonnable</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üéØ Impact majeur :</strong> Fin des frais d'egress abusifs. Transparence contractuelle obligatoire sur conditions de sortie.
        </div>
        <h4>üîû Pour Sites Contenus Adultes</h4>
        <ul>
          <li><strong>V√©rification √¢ge stricte</strong> avec double anonymat (pas de tra√ßabilit√© utilisateur)</li>
          <li>Solutions certifi√©es : FranceConnect+, tiers certificateurs agr√©√©s</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Blocage DNS administratif possible par Arcom sans d√©cision judiciaire pr√©alable.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-1">‚≠ê Limit√©</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Critique</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal DORA -->
  <div class="obligations-modal" id="modal-dora">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - DORA (Depuis 17 Jan 2025)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-dora')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Prestataires TIC Secteur Financier</h4>
        <ul>
          <li><strong>Contrats r√©silience</strong> avec clauses obligations cyber pr√©cises</li>
          <li><strong>Notification incidents</strong> sous 4h (initial) + rapports d√©taill√©s</li>
          <li><strong>Tests r√©silience TLPT</strong> (Threat-Led Penetration Testing) tous les 3 ans</li>
          <li><strong>Registre risques TIC</strong> document√© et √† jour</li>
          <li><strong>Due diligence fournisseurs</strong> sous-traitants</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üá´üá∑ France :</strong> SecNumCloud ANSSI fortement recommand√© pour h√©bergement donn√©es financi√®res sensibles.
        </div>
        <h4>üéØ Si Prestataire TIC Critique</h4>
        <ul>
          <li><strong>Surveillance directe ESA</strong> (autorit√©s europ√©ennes)</li>
          <li>Audits r√©guliers impos√©s</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 2% CA ou suspension d'activit√©.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√©</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Total</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Audit√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Critique</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal AI Act -->
  <div class="obligations-modal" id="modal-aiact">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - AI Act (Depuis 2 F√©v 2025)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-aiact')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>üö´ Interdictions Imm√©diates</h4>
        <ul>
          <li>Notation sociale (type cr√©dit social chinois)</li>
          <li>Police pr√©dictive bas√©e profils</li>
          <li>Reconnaissance √©motionnelle au travail/√©coles</li>
          <li>Manipulation comportementale subliminale</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 35M‚Ç¨ ou 7% CA pour pratiques interdites.
        </div>
        <h4>‚ö†Ô∏è Si IA Haut Risque (Recrutement, Cr√©dit, Justice...)</h4>
        <ul>
          <li><strong>√âvaluation conformit√©</strong> avant mise sur march√©</li>
          <li><strong>Supervision humaine</strong> obligatoire</li>
          <li><strong>Documentation technique</strong> compl√®te</li>
          <li><strong>Tests robustesse</strong> et biais</li>
        </ul>
        <h4>ü§ñ Si IA G√©n√©rative (GPAI)</h4>
        <ul>
          <li><strong>Watermarking</strong> contenus g√©n√©r√©s</li>
          <li><strong>Mention "g√©n√©r√© par IA"</strong> obligatoire</li>
          <li><strong>R√©sum√© donn√©es entra√Ænement</strong> publi√©</li>
          <li>Si >10^25 FLOPS : tests adversaires obligatoires</li>
        </ul>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-1">‚≠ê Simple</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-1">‚≠ê Simple</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-1">‚≠ê D√©claratif</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Critique</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal AI Act GPAI -->
  <div class="obligations-modal" id="modal-aiact-gpai">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - AI Act Mod√®les GPAI (Depuis 2 Ao√ªt 2025)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-aiact-gpai')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>ü§ñ Pour Tous Mod√®les IA G√©n√©rative (GPAI)</h4>
        <ul>
          <li><strong>Documentation technique</strong> compl√®te (architecture, donn√©es entra√Ænement)</li>
          <li><strong>R√©sum√© donn√©es entra√Ænement</strong> publi√© (sources, respect copyright)</li>
          <li><strong>Politique d'usage</strong> document√©e (limitations, cas d'usage interdits)</li>
          <li><strong>Marquage technique (A/V/Images)</strong> : watermarking d√©tectable techniquement</li>
          <li><strong>Transparence (Texte)</strong> : mention "g√©n√©r√© par IA" obligatoire sur tous outputs</li>
          <li><strong>Instructions utilisateurs</strong> claires</li>
        </ul>
        <h4>‚ö†Ô∏è Si Mod√®le √† Risque Syst√©mique (>10^25 FLOPS)</h4>
        <ul>
          <li><strong>√âvaluations adversaires</strong> obligatoires (red teaming)</li>
          <li><strong>Tests robustesse</strong> contre manipulations</li>
          <li><strong>Suivi risques syst√©miques</strong> (d√©sinformation, cybers√©curit√©)</li>
          <li><strong>Notification incidents graves</strong> aux autorit√©s</li>
          <li><strong>Cybers√©curit√© renforc√©e</strong> (protections mod√®le)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 15M‚Ç¨ ou 3% CA mondial.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Large</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Audit√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal AI Act High Risk -->
  <div class="obligations-modal" id="modal-aiact-highrisk">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - AI Act Syst√®mes Haut Risque (Depuis 2 Ao√ªt 2026)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-aiact-highrisk')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚ö†Ô∏è Syst√®mes Concern√©s</h4>
        <ul>
          <li><strong>Recrutement :</strong> Tri CV, √©valuation candidats, analyse vid√©o entretien</li>
          <li><strong>Cr√©dit :</strong> Scoring, d√©cision pr√™t, √©valuation solvabilit√©</li>
          <li><strong>Justice :</strong> √âvaluation r√©cidive, aide d√©cision juges</li>
          <li><strong>Biom√©trie :</strong> Identification √† distance, cat√©gorisation personnes</li>
          <li><strong>Infrastructures critiques :</strong> Eau, √©nergie, transports</li>
          <li><strong>√âducation :</strong> √âvaluation apprentissage, admission</li>
        </ul>
        <h4>‚úÖ Obligations Avant Mise sur March√©</h4>
        <ul>
          <li><strong>√âvaluation conformit√©</strong> document√©e</li>
          <li><strong>Gestion des risques</strong> (analyse + mitigation)</li>
          <li><strong>Gouvernance donn√©es</strong> (qualit√©, repr√©sentativit√©, biais)</li>
          <li><strong>Tests robustesse</strong> et d√©tection biais</li>
          <li><strong>Documentation technique</strong> compl√®te</li>
          <li><strong>Tra√ßabilit√©</strong> (logs d√©cisions, audits)</li>
          <li><strong>Supervision humaine</strong> effective ("human-in-the-loop")</li>
          <li><strong>Transparence</strong> utilisateurs (information IA utilis√©e)</li>
          <li><strong>D√©claration UE conformit√©</strong> + marquage CE</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 15M‚Ç¨ ou 3% CA mondial.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√©</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Total</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Certifi√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Critique</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal AI Act Full Application -->
  <div class="obligations-modal" id="modal-aiact-full">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - AI Act Application Totale (Depuis 2 Ao√ªt 2027)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-aiact-full')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>üéØ Fin P√©riode Transitoire</h4>
        <ul>
          <li><strong>Syst√®mes existants :</strong> Mise en conformit√© obligatoire (m√™me si d√©ploy√©s avant 2027)</li>
          <li><strong>Registre UE :</strong> Enregistrement tous syst√®mes haut risque</li>
          <li><strong>Organismes notifi√©s :</strong> Certifications tierces op√©rationnelles</li>
          <li><strong>Surveillance march√© :</strong> Autorit√©s nationales actives</li>
        </ul>
        <h4>‚úÖ Conformit√© Compl√®te Syst√®mes Existants</h4>
        <ul>
          <li><strong>R√©√©valuation conformit√©</strong> si mis sur march√© avant Ao√ªt 2026</li>
          <li><strong>Documentation technique</strong> √† jour (architecture, donn√©es, tests)</li>
          <li><strong>Tests biais</strong> sur donn√©es de production r√©elles</li>
          <li><strong>Supervision humaine</strong> effective en place</li>
          <li><strong>Tra√ßabilit√© d√©cisions</strong> impl√©ment√©e</li>
          <li><strong>Surveillance post-commercialisation</strong> active (monitoring incidents)</li>
        </ul>
        <h4>üìä Obligations Continues</h4>
        <ul>
          <li><strong>Reporting incidents</strong> graves (15 jours)</li>
          <li><strong>Mises √† jour s√©curit√©</strong> et corrections biais</li>
          <li><strong>Audits r√©guliers</strong> conformit√©</li>
          <li><strong>Coop√©ration autorit√©s</strong> (inspections, documentation)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions maximales :</strong> 35M‚Ç¨ ou 7% CA (interdictions), 15M‚Ç¨ ou 3% CA (obligations haut risque).
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√©</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Total</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Certifi√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Critique</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Data Act IoT -->
  <div class="obligations-modal" id="modal-dataact-iot">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - Data Act / Acc√®s Donn√©es IoT (Depuis 12 Sept 2025)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-dataact-iot')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Fabricants/√âditeurs IoT</h4>
        <ul>
          <li><strong>Fournir acc√®s donn√©es brutes</strong> g√©n√©r√©es par objets connect√©s aux utilisateurs et tiers autoris√©s par l'utilisateur</li>
          <li><strong>API standardis√©es</strong> pour export donn√©es</li>
          <li><strong>Autoriser partage tiers</strong> : l'utilisateur peut forcer le fabricant √† transmettre les donn√©es √† un concurrent (r√©parateurs, SAV, services tiers)</li>
          <li><strong>D√©lai mise √† disposition</strong> : sans retard injustifi√© (temps r√©el ou quasi)</li>
          <li><strong>Interdiction clauses bloquantes</strong> dans CGV (acc√®s exclusif √©diteur), sauf protection Secret des Affaires sous conditions strictes</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üéØ Objectif :</strong> Droit de r√©paration et libert√© choix services pour utilisateurs finaux.
        </div>
        <h4>üìä Donn√©es Concern√©es</h4>
        <ul>
          <li>Capteurs IoT (temp√©rature, g√©olocalisation, consommation...)</li>
          <li>Logs √©quipements industriels</li>
          <li>T√©l√©m√©trie v√©hicules connect√©s</li>
          <li>Historiques usage appareils domestiques</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 10M‚Ç¨ ou 2% CA. Amendes progressives en cas de refus d'acc√®s aux donn√©es.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Large</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal NIS 2 -->
  <div class="obligations-modal" id="modal-nis2">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - NIS 2 (Depuis 18 Oct 2024)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-nis2')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Entit√©s Essentielles (>250 sal. OU >50M‚Ç¨ CA)</h4>
        <ul>
          <li><strong>Auto-recensement ANSSI</strong> via plateforme d√©di√©e</li>
          <li><strong>Notification incidents</strong> cyber majeurs sous 24h</li>
          <li><strong>Mesures cybers√©curit√©</strong> : MFA, chiffrement, sauvegardes 3-2-1, gestion correctifs</li>
          <li><strong>Analyse risques annuelle</strong> document√©e</li>
          <li><strong>Plan continuit√© activit√©</strong> (PCA/PRA) test√©</li>
          <li><strong>Formation personnel</strong> cybers√©curit√©</li>
        </ul>
        <h4>‚úÖ Pour Entit√©s Importantes (>50 sal.)</h4>
        <ul>
          <li>M√™mes obligations mais surveillance moins stricte</li>
          <li>Auto-recensement ANSSI requis</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 10M‚Ç¨ ou 2% CA. Responsabilit√© personnelle dirigeants possible.
        </div>
        <h4>üéØ Secteurs Concern√©s</h4>
        <ul>
          <li>SaaS B2B, ESN, Cloud providers</li>
          <li>Services num√©riques (>50 salari√©s)</li>
          <li>Sant√©, √©nergie, transports, finance (essentiels)</li>
        </ul>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√©</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Large</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Audit√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal ESPR -->
  <div class="obligations-modal" id="modal-espr">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - ESPR / Passeport Num√©rique Produit (Juil 2026)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-espr')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour √âditeurs ERP/PLM/Supply Chain</h4>
        <ul>
          <li><strong>Int√©grer module DPP</strong> (Digital Product Passport) dans logiciel</li>
          <li><strong>G√©n√©rer QR codes/RFID</strong> pour chaque produit</li>
          <li><strong>Stocker donn√©es tra√ßabilit√©</strong> : composition, origine, r√©parabilit√©, empreinte carbone</li>
          <li><strong>API export vers registre UE</strong></li>
        </ul>
        <h4>üè≠ Secteurs Prioritaires (2026)</h4>
        <ul>
          <li>Textile & habillement</li>
          <li>Batteries (v√©hicules √©lectriques)</li>
          <li>√âlectronique (2027)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üìä Impact :</strong> Logiciels de gestion production doivent capturer et stocker donn√©es durabilit√© d√®s conception.
        </div>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 4% CA. Interdiction mise sur march√© sans DPP.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Audit√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Facturation √âlectronique V1 -->
  <div class="obligations-modal" id="modal-facture-v1">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - Facturation √âlectronique V1 (1 Sept 2026)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-facture-v1')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour TOUTES Entreprises</h4>
        <ul>
          <li><strong>Capacit√© r√©ception</strong> factures √©lectroniques structur√©es obligatoire</li>
          <li>Formats : Factur-X (PDF/XML hybride) ou UBL</li>
          <li>Via PDP (Plateforme D√©mat√©rialisation Partenaire) ou PPF (Portail Public)</li>
        </ul>
        <h4>üì§ Pour Grandes Entreprises & ETI (√âmission)</h4>
        <ul>
          <li><strong>√âmission obligatoire</strong> factures B2B structur√©es</li>
          <li><strong>e-Reporting</strong> : d√©claration transactions B2C et exports</li>
          <li><strong>Connexion PDP/PPF</strong> int√©gr√©e au logiciel</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üá´üá∑ Certification NF 203</strong> recommand√©e pour logiciels de facturation.
        </div>
        <h4>üíª Pour √âditeurs Logiciels</h4>
        <ul>
          <li><strong>Int√©grer connecteurs</strong> PDP certifi√©es ou API PPF</li>
          <li><strong>G√©n√©ration Factur-X/UBL</strong></li>
          <li><strong>Archivage 10 ans</strong> conforme</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Amendes fiscales en cas de non-conformit√© (montants √† pr√©ciser).
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Large</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal CRA Reporting -->
  <div class="obligations-modal" id="modal-cra-reporting">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - CRA Reporting Vuln√©rabilit√©s (Sept 2026)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-cra-reporting')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Tous √âditeurs Logiciels</h4>
        <ul>
          <li><strong>Notifier ENISA + CSIRT national</strong> sous 24h si vuln√©rabilit√© activement exploit√©e</li>
          <li><strong>Notifier sous 72h</strong> si vuln√©rabilit√© d√©couverte non exploit√©e</li>
          <li><strong>Enregistrement base EUDB</strong> centralis√©e europ√©enne</li>
          <li><strong>CVD (Coordinated Vulnerability Disclosure)</strong> : publication coordonn√©e apr√®s correctif</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üéØ Concern√©s d√®s 2026 :</strong> Logiciels avec connexion r√©seau ou traitement donn√©es sensibles.
        </div>
        <div class="obligations-highlight" style="background: #fff3cd; border-left-color: #f39c12;">
          <strong>‚ö†Ô∏è Retroactivit√© :</strong> S'applique aux produits <strong>en production active</strong>, y compris ceux commercialis√©s avant sept. 2026. Le reporting concerne tous logiciels maintenus.
        </div>
        <h4>üìã Informations √† Fournir</h4>
        <ul>
          <li>Description technique vuln√©rabilit√© (CVE)</li>
          <li>Versions affect√©es</li>
          <li>Criticit√© (CVSS score)</li>
          <li>Correctif disponible ou workaround</li>
          <li>Exploitation constat√©e (IoC)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 15M‚Ç¨ ou 2.5% CA. Retrait march√© possible.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Data Act Cloud Switching -->
  <div class="obligations-modal" id="modal-dataact-cloud">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - Data Act / Cloud Switching (12 Jan 2027)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-dataact-cloud')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Fournisseurs IaaS/PaaS/SaaS</h4>
        <ul>
          <li><strong>Interdiction frais sortie</strong> (egress fees) totale</li>
          <li><strong>Interdiction frais changement</strong> fournisseur</li>
          <li><strong>D√©lai migration max</strong> : 30 jours donn√©es + 30 jours assistance technique</li>
          <li><strong>Export format structur√©</strong> machine-readable obligatoire</li>
          <li><strong>Interdiction clauses abusives</strong> : p√©nalit√©s dissuasives, verrouillage technique</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üí∞ Impact :</strong> Fin des revenus egress (AWS, Azure, GCP). Portabilit√© totale clients.
        </div>
        <h4>üì§ Obligations Techniques</h4>
        <ul>
          <li>API export compl√®te (donn√©es + configs)</li>
          <li>Formats standards (JSON, CSV, SQL...)</li>
          <li>Assistance migration gratuite (30j)</li>
        </ul>

        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 10M‚Ç¨ ou 2% CA mondial.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Large</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Facturation √âlectronique V2 -->
  <div class="obligations-modal" id="modal-facture-v2">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - Facturation √âlectronique V2 (1 Sept 2027)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-facture-v2')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour PME & TPE (√âmission Obligatoire)</h4>
        <ul>
          <li><strong>√âmission factures structur√©es</strong> B2B obligatoire (Factur-X ou UBL)</li>
          <li><strong>Fin PDF simple</strong> et papier pour B2B</li>
          <li><strong>Connexion PDP/PPF</strong> : tous logiciels compta/ERP/CRM doivent int√©grer</li>
          <li><strong>e-Reporting</strong> transactions B2C/export obligatoire</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üö® G√©n√©ralisation totale :</strong> Toutes entreprises fran√ßaises B2B concern√©es.
        </div>
        <h4>üíª Pour √âditeurs Logiciels PME/TPE</h4>
        <ul>
          <li><strong>Mise √† jour obligatoire</strong> : int√©gration connecteurs facture √©lectronique</li>
          <li><strong>Interface utilisateur</strong> simplifi√©e pour TPE</li>
          <li><strong>Archivage 10 ans</strong> conforme fiscal</li>
        </ul>
        <h4>üìä Impact Fiscal</h4>
        <ul>
          <li>Pr√©-remplissage TVA automatique</li>
          <li>Contr√¥les fiscaux automatis√©s accrus</li>
          <li>D√©tection fraude temps r√©el</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Amendes fiscales en cas de non-conformit√©. Contr√¥les renforc√©s.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Total</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal CRA Total -->
  <div class="obligations-modal" id="modal-cra-total">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - CRA Complet (D√©c 2027)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-cra-total')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Tous Logiciels Commerciaux</h4>
        <ul>
          <li><strong>Marquage CE obligatoire</strong></li>
          <li><strong>Security by Design</strong> : analyse risques d√®s conception</li>
          <li><strong>SBOM (Software Bill of Materials)</strong> : liste tous composants/d√©pendances</li>
          <li><strong>Support s√©curit√© 5 ans minimum</strong> : correctifs vuln√©rabilit√©s critiques</li>
          <li><strong>Documentation technique</strong> : tests s√©curit√©, instructions utilisateur</li>
        </ul>
        <h4>üî¥ Si Classe I (Critiques)</h4>
        <ul>
          <li>OS, antivirus, VPN, gestionnaires mots de passe</li>
          <li><strong>Certification tierce obligatoire</strong></li>
        </ul>
        <h4>üî¥ Si Classe II (Industrie Critique)</h4>
        <ul>
          <li>Syst√®mes industriels, SCADA, firewalls</li>
          <li><strong>Certification tierce obligatoire</strong></li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚úÖ Exemption :</strong> SaaS pur sans composant t√©l√©charg√©/install√© c√¥t√© client.
        </div>
        <h4>üìÖ Application Temporelle</h4>
        <ul>
          <li><strong>Produit vendu avant d√©c. 2027 :</strong> Non soumis (conformit√© √† la date de premi√®re commercialisation)</li>
          <li><strong>Nouvelle unit√© vendue apr√®s d√©c. 2027 :</strong> Soumise au CRA (m√™me si produit con√ßu avant)</li>
          <li><strong>Mise √† jour substantielle post-2027 :</strong> Peut d√©clencher conformit√©</li>
        </ul>
        <div class="obligations-highlight" style="background: #fff3cd; border-left-color: #f39c12;">
          <strong>‚ö†Ô∏è R√©troactivit√© :</strong> Attention aux ventes de nouvelles unit√©s/licences apr√®s d√©c. 2027, mises √† jour substantielles, ou remises sur le march√©. <strong>Anticiper la conformit√© pour tout produit commercialis√© en 2027-2028.</strong>
        </div>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> Jusqu'√† 15M‚Ç¨ ou 2.5% CA. Retrait march√© possible.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Total</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Certifi√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal DSP3 / PSR -->
  <div class="obligations-modal" id="modal-dsp3">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - DSP3 / PSR (2027 Est.)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-dsp3')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour Fintech & PSP</h4>
        <ul>
          <li><strong>V√©rification IBAN/Nom</strong> b√©n√©ficiaire obligatoire (lutte fraude)</li>
          <li><strong>Support paiements instantan√©s</strong> paneurop√©ens</li>
          <li><strong>APIs Open Banking renforc√©es</strong> : acc√®s temps r√©el donn√©es bancaires</li>
        </ul>
        <h4>üè¶ Pour Banques</h4>
        <ul>
          <li><strong>APIs standardis√©es gratuites</strong> pour PSP tiers</li>
          <li><strong>Dashboards unifi√©s</strong> multi-comptes</li>
          <li><strong>Initiation paiement facilit√©e</strong> via API</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üåç Impact :</strong> SaaS √©trangers avec clients FR concern√©s par v√©rification IBAN/Nom.
        </div>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> En cours de d√©finition (proposition l√©gislative 2023).
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Moyen</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Document√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-2">‚≠ê‚≠ê Mod√©r√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal EHDS -->
  <div class="obligations-modal" id="modal-ehds">
    <div class="obligations-modal-content">
      <div class="obligations-modal-header">
        <h3>üìã Mes obligations - EHDS / Sant√© (2028 Est.)</h3>
        <button class="obligations-modal-close" onclick="closeObligationsModal('modal-ehds')">√ó</button>
      </div>
      <div class="obligations-modal-body">
        <h4>‚úÖ Pour √âditeurs Logiciels Sant√©</h4>
        <ul>
          <li><strong>Interop√©rabilit√© format EEHRxF</strong> (European Electronic Health Record)</li>
          <li><strong>Export r√©sum√© patient</strong> standardis√© transfrontalier</li>
          <li><strong>e-Prescription europ√©enne</strong> compatible</li>
          <li><strong>Consentement patient centralis√©</strong> : gestion droits acc√®s unifi√©</li>
        </ul>
        <h4>üè• Logiciels Concern√©s</h4>
        <ul>
          <li>DPI (Dossiers Patients Informatis√©s)</li>
          <li>Logiciels imagerie m√©dicale (PACS)</li>
          <li>Laboratoires (LIS)</li>
          <li>Pharmacie (e-prescription)</li>
        </ul>
        <div class="obligations-highlight">
          <strong>üéØ Pilotes 2026 :</strong> Tests nationaux avant g√©n√©ralisation 2028.
        </div>
        <h4>üî¨ Usage Secondaire (Recherche)</h4>
        <ul>
          <li>Acc√®s donn√©es pseudonymis√©es pour recherche</li>
          <li>Consentement opt-in requis</li>
        </ul>
        <div class="obligations-highlight">
          <strong>‚ö†Ô∏è Sanctions :</strong> En cours de d√©finition (proposition l√©gislative 2022). Conformit√© RGPD appliqu√©e.
        </div>

        <div class="complexity-section">
          <div class="complexity-header">
            <div class="complexity-title">üìä Complexit√© d'Impl√©mentation</div>
            <button class="complexity-help-btn" onclick="openComplexityExplanation()" title="Comment lire cette √©valuation ?">?</button>
          </div>
          <table class="complexity-table">
            <tr><th>Crit√®re</th><th>√âvaluation</th></tr>
            <tr><td>üîß Charge Technique</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Tr√®s √©lev√©</span></td></tr>
            <tr><td>üë• Effort Organisationnel</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
            <tr><td>üéØ P√©rim√®tre d'Impact</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê Large</span></td></tr>
            <tr><td>üìã Exigences de Preuves</td><td><span class="complexity-score complexity-score-4">‚≠ê‚≠ê‚≠ê‚≠ê Certifi√©</span></td></tr>
            <tr><td>‚ö†Ô∏è Risque Non-Conformit√©</td><td><span class="complexity-score complexity-score-3">‚≠ê‚≠ê‚≠ê √âlev√©</span></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

</div>

<div class="footer">
  <p><strong>Version Q4 2025</strong> - Derni√®re mise √† jour : D√©cembre 2025</p>
  <p>Cette frise synth√©tise les principales r√©glementations europ√©ennes et fran√ßaises applicables aux √©diteurs de logiciels, SaaS, plateformes et prestataires IT.</p>
  <div style="background: #fff3cd; padding: 16px; border-radius: 8px; border-left: 5px solid #f39c12; margin: 15px 0;">
    <p style="margin: 0 0 10px 0; color: #856404; font-weight: 700; font-size: 0.95rem;">‚ö†Ô∏è DOCUMENT NON CONTRACTUEL</p>
    <p style="margin: 0; font-size: 0.88rem; line-height: 1.6; color: #856404;">
      Ce document est fourni <strong>√† titre purement indicatif et p√©dagogique</strong>. Il ne saurait se substituer aux textes r√©glementaires en vigueur ni engager la responsabilit√© de son auteur ou de toute entit√© utilisatrice quant √† l'exhaustivit√© des obligations l√©gales. Les scores de complexit√© sont des <strong>estimations g√©n√©riques</strong> n√©cessitant une analyse au cas par cas.<br/><strong>Consulter les textes officiels et un conseil juridique.</strong>
    </p>
  </div>
  <p style="margin-top: 15px; font-size: 0.8rem;">Sources : EUR-Lex, L√©gifrance, CNIL, ANSSI, Commission Europ√©enne</p>
</div>

<script>
// Calcul de la position du marqueur de date actuelle
document.addEventListener('DOMContentLoaded', function() {
  // === REMPLIR LE GUIDE CACH√â POUR L'IMPRESSION ===
  const complexityModal = document.getElementById('modal-complexity-explanation');
  const hiddenGuideContent = document.getElementById('complexity-guide-content');
  if (complexityModal && hiddenGuideContent) {
    const modalBody = complexityModal.querySelector('.obligations-modal-body');
    if (modalBody) {
      hiddenGuideContent.innerHTML = modalBody.innerHTML;
    }
  }

  const today = new Date();
  const containers = document.querySelectorAll('.container');
  
  // Fonction pour parser les dates des badges
  function parseDate(dateText) {
    const months = {
      'Jan': 0, 'F√©v': 1, 'Fev': 1, 'Mars': 2, 'Avr': 3, 'Mai': 4, 'Juin': 5,
      'Juil': 6, 'Ao√ªt': 7, 'Aout': 7, 'Sept': 8, 'Oct': 9, 'Nov': 10, 'D√©c': 11, 'Dec': 11
    };
    
    // Gestion "Fin 2025 (Est.)" -> d√©cembre de l'ann√©e
    if (dateText.match(/Fin\s+(\d{4})/i)) {
      const yearMatch = dateText.match(/(\d{4})/);
      return new Date(parseInt(yearMatch[1]), 11, 31); // 31 d√©cembre
    }
    
    // Gestion des formats: "25 Mai 2018", "1 Jan 2021", "D√©c 2027"
    const match = dateText.match(/(\d+)?\s*([A-Za-z√©√ª]+)\s*(\d{4})/);
    if (match) {
      const day = match[1] ? parseInt(match[1]) : 1;
      const month = months[match[2]] !== undefined ? months[match[2]] : 0;
      const year = parseInt(match[3]);
      return new Date(year, month, day);
    }
    
    // Fallback pour dates approximatives avec ann√©e seule
    const yearMatch = dateText.match(/(\d{4})/);
    if (yearMatch) {
      return new Date(parseInt(yearMatch[1]), 6, 1); // Mi-ann√©e par d√©faut
    }
    
    return null;
  }
  
  // Trouver le conteneur le plus proche de la date actuelle
  let closestContainer = null;
  let closestPast = null;
  let closestFuture = null;
  let minPastDiff = Infinity;
  let minFutureDiff = Infinity;
  
  containers.forEach(container => {
    const dateBadge = container.querySelector('.date-badge');
    if (dateBadge) {
      const eventDate = parseDate(dateBadge.textContent);
      if (eventDate) {
        const diff = eventDate - today;
        
        if (diff <= 0) {
          // √âv√©nement pass√© ou actuel
          const absDiff = Math.abs(diff);
          if (absDiff < minPastDiff) {
            minPastDiff = absDiff;
            closestPast = container;
          }
        } else {
          // √âv√©nement futur
          if (diff < minFutureDiff) {
            minFutureDiff = diff;
            closestFuture = container;
          }
        }
      }
    }
  });
  
  // Prioriser l'√©v√©nement futur le plus proche, sinon prendre le pass√© le plus r√©cent
  closestContainer = closestFuture || closestPast;
  
  // Placer le marqueur et scroller
  let currentMarker = null;
  let isAllPast = false;
  
  if (closestContainer) {
    const marker = document.createElement('div');
    marker.className = 'current-date-marker';
    marker.textContent = 'AUJOURD\'HUI';
    marker.id = 'todayMarker';
    
    // Si tous les √©v√©nements sont pass√©s, placer le marqueur en bas
    if (!closestFuture && closestPast) {
      isAllPast = true;
      marker.classList.add('bottom-marker');
    } else {
      marker.style.top = (closestContainer.offsetTop - 50) + 'px';
    }
    
    document.querySelector('.timeline').appendChild(marker);
    currentMarker = marker;
    
    // Scroll automatique d√©sactiv√© (utilisateur peut cliquer sur bouton "Aujourd'hui")
    // setTimeout(() => {
    //   if (!isAllPast) {
    //     marker.scrollIntoView({ behavior: 'smooth', block: 'center' });
    //   }
    // }, 100);
  }

  // Fonction pour repositionner le marqueur selon les offsets actuels
  function updateMarkerPosition() {
    if (currentMarker && closestContainer) {
      currentMarker.style.top = (closestContainer.offsetTop - 50) + 'px';
    }
  }

  // Bouton retour √† aujourd'hui
  const backToTodayBtn = document.getElementById('backToToday');
  if (backToTodayBtn && currentMarker) {
    backToTodayBtn.addEventListener('click', function() {
      currentMarker.scrollIntoView({ behavior: 'smooth', block: 'center' });
    });
  }

  // Recalculer la position du marqueur lors du redimensionnement
  let resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(function() {
      updateMarkerPosition();
      const tocContainer = document.getElementById('tocContainer');
      if (window.innerWidth > 768) {
        document.body.classList.remove('toc-open');
      } else if (tocContainer && !tocContainer.classList.contains('collapsed')) {
        document.body.classList.add('toc-open');
      }
    }, 100);
  });

  // === SYST√àME DE FILTRAGE ===
  const legendContainer = document.getElementById('legendContainer');
  const legendToggle = document.getElementById('legendToggle');
  const legendItems = document.querySelectorAll('.legend-item');

  // Toggle panneau filtres en mobile
  if (legendToggle) {
    legendToggle.addEventListener('click', function() {
      legendContainer.classList.toggle('expanded');
    });
  }

  // √âtat des filtres (tous actifs par d√©faut)
  const filterState = {
    universal: true,
    b2b: true,
    b2c: true,
    iot: true,
    regulated: true,
    esn: false
  };

  // Compter les √©l√©ments par cat√©gorie
  function updateCounts() {
    const counts = {
      universal: 0,
      b2b: 0,
      b2c: 0,
      iot: 0,
      regulated: 0,
      esn: 0
    };

    containers.forEach(container => {
      const content = container.querySelector('.content');
      if (content.classList.contains('card-universal')) counts.universal++;
      if (content.classList.contains('card-b2b')) counts.b2b++;
      if (content.classList.contains('card-b2c')) counts.b2c++;
      if (content.classList.contains('card-iot')) counts.iot++;
      if (content.classList.contains('card-regulated')) counts.regulated++;
      if (content.classList.contains('card-esn')) counts.esn++;
    });

    // Mettre √† jour l'affichage
    Object.keys(counts).forEach(category => {
      const countElement = document.getElementById(`count-${category}`);
      if (countElement) {
        countElement.textContent = counts[category];
      }
    });
  }

  // R√©organiser les conteneurs visibles en quinconce
  function reorderContainers() {
    const visibleContainers = Array.from(containers).filter(c => !c.classList.contains('hidden'));
    
    visibleContainers.forEach((container, index) => {
      // Alterner gauche/droite selon l'index
      if (index % 2 === 0) {
        container.classList.remove('right');
        container.classList.add('left');
      } else {
        container.classList.remove('left');
        container.classList.add('right');
      }
      
      // Le premier visible ne doit pas avoir de margin n√©gatif
      if (index === 0) {
        container.style.marginTop = '0';
      } else {
        container.style.marginTop = '';
      }
    });
  }

  // Repositionner le marqueur "Aujourd'hui"
  function repositionTodayMarker() {
    if (!currentMarker) return;
    
    // Recalculer la position en fonction des conteneurs visibles
    const visibleContainers = Array.from(containers).filter(c => !c.classList.contains('hidden'));
    if (visibleContainers.length === 0) return;
    
    // Trouver le conteneur visible le plus proche de la date actuelle
    let newClosestPast = null;
    let newClosestFuture = null;
    let minPastDiff = Infinity;
    let minFutureDiff = Infinity;
    
    visibleContainers.forEach(container => {
      const dateBadge = container.querySelector('.date-badge');
      if (dateBadge) {
        const eventDate = parseDate(dateBadge.textContent);
        if (eventDate) {
          const diff = eventDate - today;
          
          if (diff <= 0) {
            // √âv√©nement pass√©
            const absDiff = Math.abs(diff);
            if (absDiff < minPastDiff) {
              minPastDiff = absDiff;
              newClosestPast = container;
            }
          } else {
            // √âv√©nement futur
            if (diff < minFutureDiff) {
              minFutureDiff = diff;
              newClosestFuture = container;
            }
          }
        }
      }
    });
    
    // Prioriser l'√©v√©nement futur le plus proche
    const newClosest = newClosestFuture || newClosestPast;
    if (newClosest) {
      closestContainer = newClosest;
      // Attendre que le DOM soit mis √† jour avant de repositionner
      setTimeout(() => {
        // Si tous les √©v√©nements visibles sont pass√©s, placer en bas
        if (!newClosestFuture && newClosestPast) {
          currentMarker.classList.add('bottom-marker');
          currentMarker.style.top = '';
        } else {
          currentMarker.classList.remove('bottom-marker');
          currentMarker.style.top = (closestContainer.offsetTop - 50) + 'px';
        }
      }, 50);
    }
  }

  // Appliquer les filtres
  function applyFilters() {
    containers.forEach(container => {
      const content = container.querySelector('.content');
      let shouldShow = false;

      // V√©rifier si le conteneur correspond √† au moins une cat√©gorie active
      if (filterState.universal && content.classList.contains('card-universal')) shouldShow = true;
      if (filterState.b2b && content.classList.contains('card-b2b')) shouldShow = true;
      if (filterState.b2c && content.classList.contains('card-b2c')) shouldShow = true;
      if (filterState.iot && content.classList.contains('card-iot')) shouldShow = true;
      if (filterState.regulated && content.classList.contains('card-regulated')) shouldShow = true;
      if (filterState.esn && content.classList.contains('card-esn')) shouldShow = true;

      // Appliquer le masquage
      if (shouldShow) {
        container.classList.remove('hidden');
      } else {
        container.classList.add('hidden');
      }
    });

    // R√©organiser l'alternance apr√®s filtrage
    reorderContainers();
    
    // Repositionner le marqueur "Aujourd'hui" apr√®s un d√©lai pour laisser le DOM se stabiliser
    setTimeout(() => {
      repositionTodayMarker();
    }, 100);
  }

  // Gestion des clics sur les items de l√©gende (filtres)
  legendItems.forEach(item => {
    const category = item.dataset.category;
    if (!category) return; // Ignorer le titre
    
    item.addEventListener('click', function() {
      filterState[category] = !filterState[category];

      // Mettre √† jour l'apparence de l'item
      if (filterState[category]) {
        this.classList.remove('inactive');
        this.classList.add('active');
      } else {
        this.classList.remove('active');
        this.classList.add('inactive');
      }

      applyFilters();
      updateEsnInfoVisibility();
    });
  });

  // Fonction pour afficher/masquer les infos ESN
  function updateEsnInfoVisibility() {
    const esnInfoTags = document.querySelectorAll('.esn-info');
    esnInfoTags.forEach(tag => {
      if (filterState.esn) {
        tag.classList.remove('hidden');
      } else {
        tag.classList.add('hidden');
      }
    });
  }

  // Initialiser la visibilit√© des infos ESN
  updateEsnInfoVisibility();

  // Initialisation
  updateCounts();

  // Repositionner correctement le marqueur apr√®s initialisation des filtres
  setTimeout(() => {
    if (currentMarker && closestContainer) {
      currentMarker.style.top = (closestContainer.offsetTop - 50) + 'px';
    }
  }, 200);

  // === SOMMAIRE FLOTTANT ===
  const tocContainer = document.getElementById('tocContainer');
  const tocHeader = document.getElementById('tocHeader');
  const tocContent = document.getElementById('tocContent');

  // G√©n√©rer le sommaire
  function generateTOC() {
    tocContent.innerHTML = '';
    
    containers.forEach((container, index) => {
      // Ignorer les conteneurs masqu√©s
      if (container.classList.contains('hidden')) return;
      
      const dateBadge = container.querySelector('.date-badge');
      const title = container.querySelector('h2');
      
      if (dateBadge && title) {
        const tocItem = document.createElement('a');
        tocItem.className = 'toc-item';
        tocItem.dataset.index = index;
        
        const dateSpan = document.createElement('span');
        dateSpan.className = 'toc-item-date';
        dateSpan.textContent = dateBadge.textContent;
        
        const titleSpan = document.createElement('span');
        titleSpan.className = 'toc-item-title';
        titleSpan.textContent = title.textContent;
        
        tocItem.appendChild(dateSpan);
        tocItem.appendChild(titleSpan);
        
        // Clic pour scroller vers l'√©l√©ment
        tocItem.addEventListener('click', function() {
          container.scrollIntoView({ behavior: 'smooth', block: 'center' });
          
          // Marquer l'√©l√©ment actif
          document.querySelectorAll('.toc-item').forEach(item => item.classList.remove('active'));
          tocItem.classList.add('active');
        });
        
        tocContent.appendChild(tocItem);
      }
    });
  }

  // Toggle du sommaire via l'en-t√™te
  tocHeader.addEventListener('click', function() {
    tocContainer.classList.toggle('collapsed');
    if (window.innerWidth <= 768) {
      document.body.classList.toggle('toc-open', !tocContainer.classList.contains('collapsed'));
    }
  });

  // R√©g√©n√©rer le sommaire initial
  generateTOC();

  // Mettre √† jour le sommaire lors du filtrage
  const originalApplyFilters = applyFilters;
  applyFilters = function() {
    originalApplyFilters();
    generateTOC();
  };

  // === GESTION DES POPUPS OBLIGATIONS ===
  function openObligationsModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
      modal.classList.add('show');
      document.body.style.overflow = 'hidden'; // Bloquer le scroll
    }
  }

  function closeObligationsModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
      modal.classList.remove('show');
      document.body.style.overflow = ''; // Restaurer le scroll
    }
  }

  // Fermer la popup en cliquant sur le fond
  document.addEventListener('click', function(e) {
    if (e.target.classList.contains('obligations-modal')) {
      e.target.classList.remove('show');
      document.body.style.overflow = '';
    }
  });

  // Fermer avec la touche Escape
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      const openModal = document.querySelector('.obligations-modal.show');
      if (openModal) {
        openModal.classList.remove('show');
        document.body.style.overflow = '';
      }
    }
  });

  // Exposer les fonctions globalement pour les boutons
  window.openObligationsModal = openObligationsModal;
  window.closeObligationsModal = closeObligationsModal;

  // === GESTION DE LA MODALE EXPLICATIVE COMPLEXIT√â ===
  window.openComplexityExplanation = function() {
    const modal = document.getElementById('modal-complexity-explanation');
    if (modal) {
      modal.classList.add('show');
      document.body.style.overflow = 'hidden';
    }
  };

  // Remplir le guide cach√© avec le contenu de la modale au chargement
  const complexityGuideContent = document.getElementById('complexity-guide-content');
  if (complexityGuideContent) {
    const modalElement = document.getElementById('modal-complexity-explanation');
    if (modalElement) {
      const modalBody = modalElement.querySelector('.obligations-modal-body');
      if (modalBody) {
        complexityGuideContent.innerHTML = modalBody.innerHTML;
      }
    }
  }

  // === GESTION DE L'IMPRESSION ===
  const printButton = document.getElementById('printButton');
  if (printButton) {
    printButton.addEventListener('click', function() {
      // R√©cup√©rer toutes les cartes visibles (non filtr√©es)
      const allContainers = document.querySelectorAll('.container');
      const visibleCards = Array.from(allContainers).filter(card => {
        const style = window.getComputedStyle(card);
        return style.display !== 'none';
      });

      const totalCards = allContainers.length;
      const visibleCount = visibleCards.length;

      // Identifier les cat√©gories actives (filtres appliqu√©s)
      const activeCategories = Array.from(document.querySelectorAll('.legend-item.active')).map(item => {
        const text = item.textContent || item.innerText;
        const match = text.match(/^(.+?)(\d+)$/);
        if (match) {
          const label = match[1].trim();
          const count = match[2];
          return `${label} (${count} √©l√©ment${count > 1 ? 's' : ''})`;
        }
        return text.trim();
      });

      // Remplir le contenu des filtres dans l'√©l√©ment d√©j√† pr√©sent
      const printFiltersContent = document.getElementById('print-filters-content');
      if (printFiltersContent) {
        printFiltersContent.innerHTML = `
          ${activeCategories.length > 0 
            ? '<strong>Ce document concerne les acteurs suivants :</strong><br/>' + activeCategories.map(cat => '‚Ä¢ ' + cat).join('<br/>') 
            : '<strong>Toutes les cat√©gories sont affich√©es</strong> (aucun filtre actif)'}
          <div style="margin-top: 10px; font-size: 9pt; color: #6c757d; font-style: italic;">
            ${visibleCount} r√©glementation(s) affich√©e(s) sur un total de ${totalCards}
          </div>
        `;
      }

      // Cr√©er une section d√©tails - UNIQUEMENT pour les cartes visibles
      let annexesHTML = '<div class="print-annexes"><h1 style="text-align: center; margin-bottom: 30px; border-bottom: 3px solid #333; padding-bottom: 10px;">D√âTAIL DES R√âGLEMENTATIONS</h1>';

      let annexeCounter = 0;
      visibleCards.forEach((card) => {
        // Extraire le titre de la r√©glementation
        const titleElement = card.querySelector('h2');
        if (!titleElement) return;
        
        const title = titleElement.textContent.trim();
        
        // Trouver la modale correspondante
        const modalButton = card.querySelector('[onclick*="openObligationsModal"]');
        if (!modalButton) return;
        
        const onclickAttr = modalButton.getAttribute('onclick');
        const modalIdMatch = onclickAttr ? onclickAttr.match(/'([^']+)'/) : null;
        const modalId = modalIdMatch ? modalIdMatch[1] : null;
        
        if (modalId) {
          const modal = document.getElementById(modalId);
          if (modal) {
            const modalBody = modal.querySelector('.obligations-modal-body');
            if (modalBody) {
              annexeCounter++;
              annexesHTML += `
                <div class="print-annex" style="margin-bottom: 30px; border: 2px solid #333; padding: 20px; border-radius: 8px; page-break-inside: avoid;">
                  <h2 class="print-annex-title" style="font-size: 16pt; margin-bottom: 15px; color: #2c3e50; border-bottom: 2px solid #2980b9; padding-bottom: 8px;">${annexeCounter}. ${title}</h2>
                  <div class="print-annex-content">${modalBody.innerHTML}</div>
                </div>
              `;
            }
          }
        }
      });

      annexesHTML += '</div>';

      // Ajouter le footer avec disclaimers juridiques AVANT la section d√©tail
      const footerElement = document.querySelector('.footer');
      let footerHTML = '';
      if (footerElement) {
        footerHTML = `
          <div class="footer" style="page-break-before: avoid; margin: 30px auto 40px; max-width: 900px; border-top: 3px solid #333; padding-top: 20px;">
            ${footerElement.innerHTML}
          </div>
        `;
      }

      // Ins√©rer le footer avant la section d√©tail
      const tempFooter = document.createElement('div');
      tempFooter.innerHTML = footerHTML;
      tempFooter.style.display = 'none';
      tempFooter.classList.add('temp-print-footer');
      document.body.appendChild(tempFooter);

      // Ins√©rer les d√©tails temporairement dans le DOM
      const tempDiv = document.createElement('div');
      tempDiv.innerHTML = annexesHTML;
      tempDiv.style.display = 'none';
      tempDiv.classList.add('temp-print-content');
      document.body.appendChild(tempDiv);

      // Marquer les cartes non visibles pour ne pas les imprimer
      const allCards = document.querySelectorAll('.container');
      allCards.forEach(card => {
        const style = window.getComputedStyle(card);
        if (style.display === 'none') {
          card.classList.add('hide-for-print');
        }
      });

      // Afficher les √©l√©ments temporaires pour l'impression
      tempDiv.style.display = 'block';
      tempFooter.style.display = 'block';

      // Lancer l'impression
      setTimeout(() => {
        window.print();
        
        // Nettoyer apr√®s l'impression
        setTimeout(() => {
          tempDiv.remove();
          tempFooter.remove();
          allCards.forEach(card => {
            card.classList.remove('hide-for-print');
          });
        }, 100);
      }, 500);
    });
  }
});
</script>

</body>
</html>